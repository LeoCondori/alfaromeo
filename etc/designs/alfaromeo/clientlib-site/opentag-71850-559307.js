/*
 * Opentag, a tag deployment platform
 * Copyright 2011-2016, Qubit Group
 * http://opentag.qubitproducts.com
 */
(function(){var F=function(){return this}();F.qubit=F.qubit||{};F.qubit.SYSTEM_DEFAULTS={pingServerUrl:"opentag-stats.qubit.com/ping",tellLoadTimesProbability:1}})();(function(){var F={"id":"71850"};try{var h=function(){return this}();if(!h.qubit)h.qubit={};var E=h.qubit;if(!E.cs)E.cs={};E.CLIENT_CONFIG=F;var H=F.id||"efault";H="d"+H;if(!E.cs[H])E.cs[H]={};E.cs[H].ClientConfig=F;if(E.SYSTEM_DEFAULTS)E.cs[H].SystemDefaults=E.SYSTEM_DEFAULTS}catch(J){}})();
(function(){(function(){function F(){return ia.uv}function h(){var l=F();if(!l||!l.emit)return false;if(!ea){ea=true;for(var a=0;a<Z.length;a++){var y=Z[a];if(y.on)l.on.apply(l,y.on);else if(y.emit)l.emit.apply(l,y.emit)}l.on(/.*/,function(r){var x=r.meta.type;var e=aa[x];if(!e)aa[x]={current:r,history:[r]};else{e.current=r;e.history.push(r)}}).replay();ba=true}return true}(function(){if(!Function.prototype.bind)Function.prototype.bind=function(l){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying "+
"to be bound is not callable");var a=Array.prototype.slice.call(arguments,1);var y=this;var r=function(){};var x=function(){return y.apply(this instanceof r?this:l,a.concat(Array.prototype.slice.call(arguments)))};r.prototype=this.prototype;x.prototype=new r;return x}})();var E={__anonymous__:true};var H=null;try{H=(false||eval)("this")}catch(l){}if(!H)try{var J=function(){return this};H=J()}catch(l){}E=H;var k=E.qubit||{};if(!E.qubit)E.qubit=k;var X="3.3.0";if(k.VERSION&&k.VERSION!==X)try{console.warn("There is already 'qubit.VERSION' set to: "+
k.VERSION)}catch(l){}k.VERSION=X;try{if(typeof module==="object")module.exports=E}catch(l){}var O=function(){};var fa;(function(){function l(){}function a(x,e,q,c,u){var v=x.split(".");var w=l.NAMESPACE_BASE||E;var D=null;var f=null;var z;if(u)w=H;var B=w;w=q||w;for(z=0;z<v.length-1;z+=1){D=w;f=v[z];w[f]=w[f]||{};w=w[f]}D=w;f=v[v.length-1];if(H.TAGSDK_NS_OVERRIDE)c=false;if(H.TAGSDK_NS_FORCED_OVERRIDE_OPTION!==undefined)c=!H.TAGSDK_NS_FORCED_OVERRIDE_OPTION;if(e!==undefined){if(D[f]===undefined||
!c)D[f]=e}else D[f]=D[f]||{};if(e){e.CLASSPATH=v.join(".");v.splice(v.length-1,1);e.PACKAGE_NAME=v.join(".")}return{root:B,object:D,instance:D[f]}}l.global=function(){return H};l.STANDARD_CS_NS="qubit.cs";l.clientSpaceClasspath=function(){if(window.qubit.CLIENT_CONFIG)return"qubit.cs.d"+window.qubit.CLIENT_CONFIG.id;return l.STANDARD_CS_NS};l.globalNamespace=function(x,e,q,c){return a(x,e,q,c,true)};l.namespace=function(x,e,q,c){return a(x,e,q,c,false)};l.clientNamespace=function(x,e,q,c){return l.namespace(l.clientSpaceClasspath()+
"."+x,e,q,c)};l.clazz=function(x,e,q,c,u){l.namespace(x,e,c,true);if(typeof q==="function"){e.SUPER=q;e.superclass=q;e.prototype=new q(u);e.prototype.SUPER=q;e.prototype.CLASS=e}var v=x.split(".");if(e.prototype){e.prototype.CLASSPATH=v.join(".");e.prototype.CLASS_NAME=v[v.length-1];v.splice(v.length-1,1);e.prototype.PACKAGE_NAME=v.join(".")}else{e.CLASSPATH=v.join(".");e.STATIC_NAME=v[v.length-1];v.splice(v.length-1,1);e.PACKAGE_NAME=v.join(".")}return e};l.clazz("qubit.Define",l);l.clientClazz=
function(x,e,q,c,u){return l.clazz(l.clientSpaceClasspath()+"."+x,e,q,c,u)};l.STANDARD_VS_NS="qubit.vs";l.vendorsSpaceClasspath=function(x){var e=k.VENDOR_SPACE_CP;var q=e===undefined||e===null?l.STANDARD_VS_NS:e;if(x)if(q)return q+"."+x;else return x;return q};var y=l.vendorsSpaceClasspath();var r;if(y)r=l.namespace(y,{},null,true).instance;else r=l.global();l.getVendorSpace=function(){return r};l.vendorNamespace=function(x,e,q,c){x=l.vendorsSpaceClasspath(x);return l.namespace(x,e,q,c)};l.vendorClazz=
function(x,e,q,c,u){x=l.vendorsSpaceClasspath(x);return l.clazz(x,e,q,c,u)}})();(function(){function l(x){}var a="abcdefghijklmnopqrstuvwxyz"+"0123456789"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"*!-#$\x26+()@"+"'%./:\x3c\x3e?["+'"]^_`{|}~'+"\\"+";\x3d";var y={};for(var r=0;r<a.length;r++)y[a.charAt(r)]=r;k.Define.clazz("qubit.Cookie",l);l.cookieAlphabet=a;l.cookieAlphabetMap=y;l.decode=function(x){return unescape(x)};l.encode=function(x){return escape(x)};l.set=function(x,e,q,c,u){var v;if(q){var w=new Date;
w.setTime(w.getTime()+q*24*60*60*1E3);v="; expires\x3d"+w.toGMTString()}else v="";if(!u){x=l.encode(x);e=l.encode(e)}var D=x+"\x3d"+e+v+"; path\x3d/;";if(c)D+=" domain\x3d"+c;document.cookie=D};l.get=function(x,e){var q=x+"\x3d";var c=document.cookie.split(";");for(var u=0;u<c.length;u++){for(var v=c[u];v.charAt(0)===" ";)v=v.substring(1,v.length);if(v.indexOf(q)===0){var w=v.substring(q.length,v.length);if(!e)w=l.decode(w);return w}}return null};l.getAllForName=function(x,e){if(!x)return[];var q=
x+"\x3d";var c=document.cookie.split(";");var u=[];for(var v=0;v<c.length;v++){for(var w=c[v];w.charAt(0)===" ";)w=w.substring(1,w.length);if(w.indexOf(q)===0){var D=w.substring(q.length,w.length);if(e)D=l.decode(D);u.push(D)}}return u};l.getAll=function(x){var e=document.cookie.split(";");var q=[];for(var c=0;c<e.length;c++){for(var u=e[c];u.charAt(0)===" ";)u=u.substring(1,u.length);var v=u.substring(0,u.indexOf("\x3d"));var w=u.substring(v.length+1,u.length);if(x)w=l.decode(w);q.push([v,w])}return q};
l.rm=function(x,e){l.set(x,"",-1,e)}})();(function(){function l(f,z,B){this.collectLogs=!!l.isCollecting();this.collectLocally=B;this.collection=[];this.getPrefix=function(){var C="";if(z){if(typeof z==="function")C=z(this.ref);else if(z.CLASS_NAME)C=z.CLASS_NAME;else if(z.constructor&&z.constructor.name)C=z.constructor.name;if(C)C+=" -\x3e "}return(f||"")+C}}function a(f,z,B,C,n,m,t,d){var b;var g=x>=d;if(l.getCollectLevel()>=0||g){if(n)b=[C,t,B];else b=[z+f.getPrefix()+C,m,B];b[3]=d;f.collect(b,
d);if(g)f.printMessage.apply(f,b)}}var y=k.Define;var r=null;y.clazz("qubit.opentag.Log",l);l.LEVEL_FINEST=4;l.LEVEL_FINE=3;l.LEVEL_INFO=2;l.LEVEL_WARN=1;l.LEVEL_ERROR=0;l.LEVEL_NONE=-1;l.MAX_LOG_LEN=1E4;l.prototype.MAX_LOG_LEN=-1;var x=l.LEVEL_NONE;var e=l.LEVEL_NONE;var q=true;l.setLevelFromCookie=function(){var f=k.Cookie.get("qubit.opentag.Log.LEVEL");if(f){f=+f;if(!isNaN(f))if(f>0){var z=l.LEVEL_FINE;l.setCollectLevel(f>z?f:z);l.setLevel(+f)}}};l.setCollecting=function(f){q=!!f};l.isCollecting=
function(){return q||l.COLLECT};l.setLevel=function(f){x=+f};l.setCollectAndLevel=function(f){l.setLevel(f);l.setCollectLevel(f)};l.getLevel=function(){return x};l.setCollectLevel=function(f){e=+f};l.getCollectLevel=function(){return e};var c=[];l.logsCollection=c;l.rePrintAll=function(f,z,B,C){var n=x;if(f!==undefined)x=f;try{if(l.isCollecting()){try{if(!B)r.clear()}catch(b){}var m=C||l.logsCollection;var t=0;for(var d=0;d<m.length;d++)(function(b){var g=m[b];var p=g[3];if(p!==undefined&&x>=p){t++;
if(!z)l.print.apply(l,g);else k.opentag.Timed.setTimeout(function(){if(f!==undefined)x=f;try{l.print.apply(l,g)}finally{x=n}},t*z)}})(d)}}catch(b){}finally{x=n}};var u=y.global();var v=!!(u.webkitMediaStream||u.webkitURL||u.mozContact);l.isStyleSupported=function(){return v};var w={};l.setConsole=function(f){r=f||w;return r};l.delayPrint=-1;var D=(new Date).valueOf();l.prototype.printMessage=function(f,z,B,C){if(l.delayPrint>0){var n=l.delayPrint;var m=D-(new Date).valueOf();if(m>0)n+=m;try{k.opentag.Timed.setTimeout(function(){this.print(f,
z,B,C)}.bind(this),n)}catch(t){setTimeout(function(){this.print(f,z,B,C)}.bind(this),n)}D=(new Date).valueOf()+n}else this.print(f,z,B,C)};l.prototype.print=function(f,z,B,C){l.print(f,z,B,C)};l.print=function(f,z,B,C){if(C!==undefined&&x<C)return;try{if(r&&r.log)if(z&&l.isStyleSupported())if(B&&r[B])r[B]("%c"+f,z);else r.log("%c"+f,z);else if(B&&r[B])r[B](f);else r.log(f)}catch(n){}};l.prototype.collect=function(f,z){if(z===undefined)z=l.getCollectLevel();var B=false;var C=this.collectLogs&&l.isCollecting()&&
l.getCollectLevel()>=+z;if(C){c.push(f);B=true}if(this.collectLocally&&C){this.collection.push(f);B=true}if(l.MAX_LOG_LEN>0)if(c.length>l.MAX_LOG_LEN)c.splice(0,c.length-l.MAX_LOG_LEN);if(l.MAX_LOG_LEN>0||this.MAX_LOG_LEN>0){var n=l.MAX_LOG_LEN;if(this.MAX_LOG_LEN>0)n=this.MAX_LOG_LEN;if(this.collection.length>n)this.collection.splice(0,this.collection.length-n)}return B?f:null};l.clearAllLogs=function(){try{r.clear()}catch(f){}finally{c.splice(0,c.length)}};l.getCollectedByLevel=function(f,z){z=
z||c;var B=[];for(var C=0;C<z.length;C++){var n=z[C];var m=n[0];var t=m[4];if(t===f)B.push(n)}return B};l.prototype.rePrint=function(f,z,B){l.rePrintAll(f,z,!B,this.collection)};l.prototype.FINEST=function(f,z){a(this,"FINEST: ",false,f,z,"color:#CCCCCC;",false,l.LEVEL_FINEST)};l.prototype.FINE=function(f,z){a(this,"FINE: ",false,f,z,"color:#999999;",false,l.LEVEL_FINE)};l.prototype.INFO=function(f,z,B){a(this,"INFO: ","info",f,z,B,B,l.LEVEL_INFO)};l.prototype.WARN=function(f,z){a(this,"WARN: ","warn",
f,z,"color:#26A110;",false,l.LEVEL_WARN)};l.prototype.ERROR=function(f,z){a(this,"ERROR: ","error",f,z,"color:red;",false,l.LEVEL_ERROR)};l.setConsole(y.global().console);l.setLevelFromCookie()})();(function(){function l(b){return u.addToArrayIfNotExist(u.ANON_VARS,b)}function a(b){return b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function y(b,g){var p=w.length;for(var A=0;A<p;A++)if(b===w[A][0])return w[A][1];w[w.length]=[b,g];return false}function r(b,g,p,A,G){var I=false;var K=false;var L=
false;var N=false;var P=false;var V=false;var R=false;if(g){P=!!g.all;I=P||g.nodes;N=P||g.win;K=P;R=!!g.emptyForMaxDeep;L=g.noFunctions&&!P;if(g.noOwn!==undefined)K=!!g.noOwn;if(g.noFunctions!==undefined)L=!!g.noFunctions;if(g.win!==undefined)N=!!g.win;if(g.nodes!==undefined)I=!!g.nodes;V=!!g.copyReference}if(p!==undefined&&!p){if(R)return;return b}else if(p!==undefined)p--;if(!b||!(b instanceof Object))return b;if(!I){try{if(b instanceof Node)return b}catch(ga){if(b instanceof ActiveXObject&&b.nodeType!==
undefined)return b}if(b===document)return b}if(!N)if(b===v)return b;var Q=b instanceof Array?[]:{};if(b instanceof Date)Q=new Date(b);if(!L&&b instanceof Function){var W=String(b).replace(/\s+/g,"");if(W.indexOf("{[nativecode]}")+14===W.length)Q=function(){return b.apply(G||this,arguments)};else Q=function(){return b.apply(this,arguments)}}if(A===undefined){w=[];A=0}var Y=y(b,Q);if(Y)return Y;var T;if(Q instanceof Array)for(T=0;T<b.length;T++)if(b[T]===b[T])Q[Q.length]=r(b[T],g,p,A+1,b);else Q[Q.length]=
b[T];else{T=0;for(var U in b){if(K||b.hasOwnProperty(U))if(b[U]===b[U])Q[U]=r(b[U],g,p,A+1,b);else Q[U]=b[U];T++}}if(g.proto)Q.prototype=r(b.prototype,g,p,A+1,b);if(V)Q.___copy_ref=b;return Q}function x(b,g){for(var p=0;p<g&&p<D.length;p++)if(b===D[p])return true;return false}function e(b,g,p,A,G,I,K,L){p=p||{};if(p.hasOwn===undefined)p.hasOwn=true;if(p.objectsOnly&&!(b instanceof Object))return;if(L!==undefined&&!L)return;else if(L!==undefined)L--;if(!p||!p.nodes)try{if(b instanceof Node)return}catch(W){if(b instanceof
ActiveXObject&&b.nodeType!==undefined)return}if(b===v)return;if(A===undefined){D=[];A=0}if(x(b,A))return;D[A]=b;G=G||b;if(G&&I&&G[I]!==G[I])return;var N=g(b,G,I,K);if(N)return;var P=0;var V="";for(var R in b){if(!p.hasOwn||b.hasOwnProperty(R))try{var Q=b[R];if(p.track)V=K?K+"."+R:R;e(Q,g,p,A+1,G,R,V,L)}catch(W){}P++}}var q=k.Define;var c=k.Cookie;var u=function(){};var v=q.global();q.clazz("qubit.opentag.Utils",u);u.global=q.global;u.namespace=q.namespace;u.clazz=q.clazz;u.getObjectUsingPath=function(b,
g){g=g||v;var p=b.split(".");for(var A=0;A<p.length;A++)if(g&&p[A])g=g[p[A]];return g};u.getParentObject=function(b){var g=b.lastIndexOf(".");var p=b.substring(0,g);return u.getObjectUsingPath(p)};u.variableExists=function(b){return b!==undefined&&b!==null};u.ANON_VARS=[];u.getAnonymousAcessor=function(b){var g=u.indexInArray(b,u.ANON_VARS);if(g===-1)g=l(b);return"qubit.opentag.Utils.ANON_VARS["+g+"]"};u.replaceAll=function(b,g,p){return b.replace(new RegExp(a(g),"g"),p)};u.secureText=function(b){if(typeof b!==
"string")b+="";b=b.replace(/</g,"\x26lt;");b=b.replace(/>/g,"\x26gt;");return b};u.getUrl=function(){return document.location.href};u.getQueryParam=function(b){var g;var p;var A;var G;var I;var K;var L;G=u.getUrl();if(G.indexOf("?")>0){K=G.substring(G.indexOf("?")+1).split("\x26");for(g=0,p=K.length;g<p;g+=1){I=K[g];if(I.indexOf("\x3d")>0){L=I.split("\x3d");if(L.length===2&&L[0]===b)return L[1]}}}return null};u.getElementValue=function(b){var g=document.getElementById(b);if(g)return g.textContent||
g.innerText;return null};var w=[];u.objectCopy=function(b,g){g=g||{};var p=r(b,g,g.maxDeep);w=[];return p};var D=[];u.traverse=function(b,g,p){var A;e(b,g,p,A,A,A,A,p.maxDeep)};u.prepareQuotedString=function(b){if(typeof b==="string")return'"'+b.replace(/\"/g,'\\"')+'"';else return b};u.expressionToFunction=function(b,g){g=g||"";var p="function ("+g+") {"+b+"}";return u.gevalAndReturn(p).result};u.defineWrappedClass=function(b,g,p,A,G){var I=function(){if(G)return G.apply(this,arguments);else return g.apply(this,
arguments)};q.clazz(b,I,g,A);for(var K in p)if(p.hasOwnProperty(K)&&K!=="CONSTRUCTOR")I.prototype[K]=p[K];return I};u.copyAandAddFromB=function(b,g,p){p=p||8;var A=this.objectCopy(b,{maxDeep:p});for(var G in g)if(g.hasOwnProperty(G))A[G]=g[G];return A};u.keys=function(b){if(b instanceof Object){if(Object.keys)return Object.keys(b);var g=[];for(var p in b)if(b.hasOwnProperty(p))g[g.length]=p;return g}else throw"keys() called on non-object!";};u.getSrcElement=function(b){var g;b=b||window.event;if(b.srcElement)g=
b.srcElement;else if(b.target)g=b.target;return g};u.addToArrayIfNotExist=function(b,g,p){var A=0;for(var G=false;A<b.length;A+=1){var I=p&&p(b[A],g);if(I||b[A]===g){G=true;break}}if(!G){b[b.length]=g;A=-1}return A};u.indexInArray=function(b,g){for(var p=0;p<b.length;p++)if(b[p]===g)return p;return-1};u.existsInArray=function(b,g){for(var p=0;p<b.length;p++)if(b[p]===g)return true;return false};u.removeFromArray=function(b,g){var p=0;for(var A=0;p<b.length;)if(b[p]===g){b.splice(p,1);A++}else p++;
return A};u.addClass=function(b,g){var p;try{b.classList.add(g)}catch(A){if(b.className===null){b.className=g;return}p=b.className.split(" ");u.addToArrayIfNotExist(p,g);b.className=p.join(" ")}};u.removeClass=function(b,g){var p;try{b.classList.remove(g)}catch(A){if(b.className===null){b.className="";return}p=b.className.split(" ");u.removeFromArray(p,g);b.className=p.join(" ")}};var f="try{this.qubitopentagutilsgevalandreturn__var_test__\x3d(";var z=");}catch(ex){"+"this.qubitopentagutilsgevalandreturn__var_test__error \x3d ex;}";
u.gevalAndReturn=function(b){var g=H;g.qubitopentagutilsgevalandreturn__var_test__=undefined;g.qubitopentagutilsgevalandreturn__var_test__error=undefined;b=f+b+z;u.geval(b);var p=g.qubitopentagutilsgevalandreturn__var_test__;var A=g.qubitopentagutilsgevalandreturn__var_test__error;try{g.qubitopentagutilsgevalandreturn__var_test__=fa;g.qubitopentagutilsgevalandreturn__var_test__error=fa;delete g.qubitopentagutilsgevalandreturn__var_test__;delete g.qubitopentagutilsgevalandreturn__var_test__error}catch(G){}return{result:p,
error:A}};u.trim=function(b){try{return String(b).trim()}catch(g){return String(b).replace(/^\s+|\s+$/g,"")}};u.setIfUnset=function(b,g){if(b&&g)for(var p in g)if(g.hasOwnProperty(p)&&!b.hasOwnProperty(p))b[p]=g[p]};var B=Math.floor(Math.random()*1E12);u.UUID=function(){if(!v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__)v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__=(new Date).valueOf();return B+"."+ ++v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__};u.overrideFromLeftToRight=function(b,g){if(b&&g)for(var p in g)if(g.hasOwnProperty(p))b[p]=
g[p];return b};u.geval=function(b){if(window&&window.execScript)return window.execScript(b===""?" ":b);else return function(){return v["eval"].call(v,b)}()};var C=[];u.bodyAvailable=function(b){var g=!!document.body;if(g){if(C){for(var p=0;p<C.length;p++)try{C[p]()}catch(A){}C=false}b()}else C.push(b)};u.rmCookiesMatching=function(b){var g=c.getAll();for(var p=0;p<g.length;p++){var A=g[p][0];if(A.match(b)===0)c.rm(A)}};var n=[];var m=false;var t=false;u.bodyReady=function(b){if(t){if(b)b();return true}m=
m||!!(document.body&&document.readyState==="complete");if(m){t=true;for(var g=0;g<n.length;g++)try{n[g]()}catch(p){}if(b)b()}else if(b)n.push(b);return m};var d=v.onload;v.onload=function(b){try{u.bodyReady()}catch(p){try{window.qubit.opentag.Utils.bodyReady()}catch(A){}}var g=false;try{g=d}catch(p){}if(g)g(b)};(function(){var b;var g=false;var p=1;var A;var G;var I;var K;G=function(N){var P;if(N===true)p-=1;if(!p||N!==true&&!g){if(!document.body)return setTimeout(G,1);g=true;if(N!==true){p-=1;if(p>
0)return}for(;A.length>0;){P=A.shift();P()}}};K=function(){if(g)return;try{document.documentElement.doScroll("left")}catch(N){setTimeout(K,1);return}G()};I=function(){if(A)return;A=[];if(document.readyState==="complete")return setTimeout(G,1);if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false);window.addEventListener("load",G,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",b);window.attachEvent("onload",G);var N=false;try{N=window.frameElement===
null||window.frameElement===undefined}catch(P){}if(document.documentElement.doScroll&&N)K()}};var L=function(N){I();if(g)setTimeout(N,1);else A.push(N)};if(document.addEventListener)b=function(){document.removeEventListener("DOMContentLoaded",b,false);G()};else if(document.attachEvent)b=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",b);G()}};L(function(){m=true;u.bodyReady()})})()})();var S={};(function(){function l(w){return w<10?"0"+w:w}function a(w){e.lastIndex=
0;return e.test(w)?'"'+w.replace(e,function(D){var f=u[D];return typeof f==="string"?f:"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function y(w){return isFinite(w.valueOf())?w.getUTCFullYear()+"-"+l(w.getUTCMonth()+1)+"-"+l(w.getUTCDate())+"T"+l(w.getUTCHours())+":"+l(w.getUTCMinutes())+":"+l(w.getUTCSeconds())+"Z":null}function r(w,D){var f;var z;var B;var C;var n=q;var m;var t=D[w];if(t instanceof Date)t=y(t);else if(t instanceof String||t instanceof Number||t instanceof
Boolean)t=t.valueOf();if(typeof v==="function")t=v.call(D,w,t);switch(typeof t){case "string":return a(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";q+=c;m=[];if(Object.prototype.toString.apply(t)==="[object Array]"){C=t.length;for(f=0;f<C;f+=1)try{m[f]=r(f,t)||"null"}catch(d){m[f]='{"stack_exceeded": null}'}B=m.length===0?"[]":q?"[\n"+q+m.join(",\n"+q)+"\n"+n+"]":"["+m.join(",")+"]";q=n;return B}if(v&&typeof v===
"object"){C=v.length;for(f=0;f<C;f+=1)if(typeof v[f]==="string"){z=v[f];try{B=r(z,t)}catch(d){B='{"stack_exceeded": null}'}if(B)m.push(a(z)+(q?": ":":")+B)}}else for(z in t)if(Object.prototype.hasOwnProperty.call(t,z)){try{B=r(z,t)}catch(d){B='{"stack_exceeded": null}'}if(B)m.push(a(z)+(q?": ":":")+B)}B=m.length===0?"{}":q?"{\n"+q+m.join(",\n"+q)+"\n"+n+"}":"{"+m.join(",")+"}";q=n;return B}}var x=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var q;var c;var u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var v;if(typeof S.stringify!=="function")S.stringify=function(w,D,f){var z;q="";c="";if(typeof f==="number")for(z=0;z<f;z+=1)c+=" ";else if(typeof f==="string")c=f;v=D;if(D&&typeof D!=="function"&&(typeof D!=="object"||typeof D.length!=="number"))throw new Error("JSON.stringify");
return r("",{"":w})};if(typeof S.parse!=="function")S.parse=function(w,D){function f(B,C){var n;var m;var t=B[C];if(t&&typeof t==="object")for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){m=f(t,n);if(m!==undefined)t[n]=m;else delete t[n]}return D.call(B,C,t)}var z;w=String(w);x.lastIndex=0;if(x.test(w))w=w.replace(x,function(B){return"\\u"+("0000"+B.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+w+")");return typeof D==="function"?f({"":z},""):z}throw new SyntaxError("JSON.parse");}})();var M={};M.html=M.html||{};(function(){function l(c){return c.replace(/^\s+/,"").replace(/\s+$/,"")}var a={callbacks:{},unfired_events:[],early_callbacks:null,currentUV:null};var y;var r="universal_variable";var x=0;var e=500;var q;a._isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"};a._targetChanged=function(c,u,v){var w;
var D;var f;if(v===null)if(u==="null")return false;else return true;else if(v===undefined)if(u===v)return false;else return true;else{w=S.parse(u);D=a._getNested(w,c);f=a._getNested(v,c);return!a._jsonIsEqual(D,f)}};a._processCallbacks=function(){var c;if(a.early_callbacks&&a.early_callbacks.length>0){for(c=0;c<a.early_callbacks.length;c+=1)a.push(a.early_callbacks[c]);a.early_callbacks=null}};a._keyStringToArr=function(c){c=l(c);if(c==="")return[];else{c=c.replace(/\[(\w+)\]/g,".$1");c=c.replace(/^\./,
"");return c.split(".")}};a._getNested=function(c,u){var v=a._keyStringToArr(u);for(var w;v.length>0;){w=v.shift();if(c.hasOwnProperty(w))c=c[w];else return}return c};a._jsonIsEqual=function(c,u){if(typeof c!=="string")c=S.stringify(c,a._stripEvents);if(typeof u!=="string")u=S.stringify(u,a._stripEvents);return c===u};a._stripEvents=function(c,u){if(c!=="events")return u;else return undefined};a._on=function(c,u){var v;var w;v=c.split(":");c=v[0];w=v[1];a.callbacks[c]=a.callbacks[c]||[];if(w)a.callbacks[c].push({keyString:w,
func:u});else a.callbacks[c].push({func:u})};a._trigger=function(c,u){var v;var w;if(a.callbacks[c])for(v=0;v<a.callbacks[c].length;v+=1)if(typeof a.callbacks[c][v].func==="function"){w=a.callbacks[c][v].keyString;if(w){if(c==="change"&&a._targetChanged(w,a.currentUV,y))a.callbacks[c][v].func(u)}else a.callbacks[c][v].func(u)}};a._eventsPush=function(c){var u;var v;y.events[y.events.length]=c;c.time=c.time||(new Date).getTime();if(a.callbacks.event){u=0;v=a.callbacks.event.length;for(u;u<v;u+=1)a.callbacks.event[u].func(c)}c.has_fired=
true};a._getUnfiredEvents=function(){var c=0;for(c=0;c<y.events.length;c+=1)if(!y.events[c].has_fired){a.unfired_events.push(y.events.splice(c,1)[0]);c-=1}};a._fireEvents=function(){for(;a.unfired_events.length>0;)y.events.push(a.unfired_events.shift())};a._resetEventsPush=function(){y.events=y.events||[];if(y.events.push.toString().indexOf("[native code]")!==-1){y.events.push=a._eventsPush;a._getUnfiredEvents();a._fireEvents()}};a._checkForChanges=function(){if(a.callbacks.change&&a.callbacks.change.length>
0)if(!a._jsonIsEqual(a.currentUV,y)){a._trigger("change",y);a.currentUV=S.stringify(y,a._stripEvents)}};a._setUVLocation=function(c){r=c;a._initUV()};a._initUV=function(){window[r]=window[r]||{events:[]};y=window[r];if(!y.events)y.events=[]};a.push=function(c){if(!a._isArray(c))return;if(c[0]==="on")a._on(c[1],c[2]);else if(c[0]==="trigger"&&c[1])a._trigger(c[1])};a.init=function(c,u){if(u)r=u;a._initUV();if(!window.uv_listener||a._isArray(window.uv_listener)){a.early_callbacks=window.uv_listener||
null;window.uv_listener=a;if(!c)a.start()}else if(u)window.uv_listener._setUVLocation(r)};a.start=function(){a.currentUV=S.stringify(y,a._stripEvents);q=setInterval(function(){a._initUV();a._resetEventsPush();a._checkForChanges()},e);a._processCallbacks()};M.html.UVListener=a})();(function(){function l(y){if(y){this._rate=y.rate||10;this._smallestRate=-1;if(y.start)this.startPooling();this.config=y}this.inervals=[];this._lck_obj={};this._binded_pool=this._pool.bind(this)}k.Define.clazz("qubit.opentag.Timer",
l);l.prototype.timers=[];l.prototype.startPooling=function(y){if(y&&this.config.dynamic)if(this._smallestRate<0||this._smallestRate>y)this._smallestRate=Math.min(Math.floor(y/2),1500);if(!this.started){this.started=true;setTimeout(this._binded_pool,0)}};l.prototype._pool=function(){this.maxFrequent(function(){var r="";if(this.config&&this.config.name)r="["+this.config.name+"]"},5E3,this._lck_obj);this.callTimers();if(this.timers.length!==0){var y=this._smallestRate>this._rate?this._smallestRate:this._rate;
setTimeout(this._binded_pool,y)}else{this.started=false;this._smallestRate=-1}};l.prototype.callTimers=function(){this.lastCalled=(new Date).valueOf();for(var y=0;y<this.timers.length;y++){var r=this.timers[y];var x=(new Date).valueOf();if(x>=r.time){try{r.execute()}catch(e){}this.timers.splice(y,1);--y}}};l.prototype.cancellAll=function(){this.timers=[]};l.prototype.setRate=function(y){this._rate=y};l.prototype.maxFrequent=function(y,r,x){if(!x){y.__maxFrequent__timer_opentag_qubit_=y.__maxFrequent__timer_opentag_qubit_||
{};x=y.__maxFrequent__timer_opentag_qubit_}var e=x.____last__timed__max__frequent____;if(!e||(new Date).valueOf()-e>r){e=(new Date).valueOf();x.____last__timed__max__frequent____=e;y()}};l.prototype.runIfNotScheduled=function(y,r,x){x=x||y;if(x.__lastRun__&&(new Date).valueOf()<r+x.__lastRun__)return this.schedule(y,r,x);else{x.__lastRun__=(new Date).valueOf();y();return true}};l.prototype.schedule=function(y,r,x){if(x.___scheduled___)return false;else{x.___scheduled___=(new Date).valueOf();this.setTimeout(function(){x.___scheduled___=
false;x.__lastRun__=(new Date).valueOf();y()},r);return true}};var a=1;l.prototype.setTimeout=function(y,r){var x={id:a++,time:(new Date).valueOf()+ +r,execute:y};this.timers.push(x);this.startPooling(r);return x};l.prototype.setInterval=function(y,r){var x=setInterval(y,r);this.inervals.push(x);return x}})();(function(){k.Define.namespace("qubit.opentag.Timed",new k.opentag.Timer({rate:37,dynamic:true}));var l=k.opentag.Timed;l.tillTrue=function(a,y,r){var x=function(){if(!a())l.setTimeout(x,r||
33);else y()};x()}})();M.html.fileLoader={};M.html.fileLoader.load=function(l,a,y,r,x,e){var q;var c;var u;var v;var w;w=false;v=function(D){return function(){if(!w){w=true;if(D&&!u)u={url:document.location.href};y(l,u,D)}}};try{if(a)c=a(l)}catch(D){c=false;y(l,"Exception loading pre",true)}finally{if(c!==false){q=M.html.fileLoader.createScriptEl(l,x,false,e);if(y){q.onload=v(false);q.onerror=v(true);q.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded")setTimeout(function(){v(false)()},
1)}}if(!r)r=window.document.getElementsByTagName("head")[0];r.appendChild(q)}}};M.html.fileLoader.createScriptEl=function(l,a,y,r){var x;var e=document.createElement("script");e.type="text/javascript";e.src=M.html.fileLoader.tidyUrl(l)+(y?"?"+(new Date).getTime():"");if(a!==false){e.async="true";e.defer="true"}else{e.async="false";if(e.async!==false)e.async=false;e.defer="false";if(e.defer!==false)e.defer=false}for(x in r)if(r.hasOwnProperty(x))e.setAttribute(x,r[x]);return e};M.html.fileLoader.tidyUrl=
function(l){if(l.substring(0,5)==="http:")return l;if(l.substring(0,6)==="https:")return l;return"//"+l};(function(){function l(r){this.calls={}}var a=k.Define;var y=k.opentag.Utils;l.prototype.on=function(r,x){if(!this.calls[r])this.calls[r]=[];return y.addToArrayIfNotExist(this.calls[r],x)};l.prototype.call=function(r,x){var e=this.calls[r];if(e)for(var q=0;q<e.length;q++)try{e[q](x)}catch(c){}};l.prototype.remove=function(r,x){if(this.calls[r])return y.removeFromArray(this.calls[r],x);return null};
l.prototype.removeAll=function(r){var x=0;for(var e in this.calls)if(this.calls.hasOwnProperty(e))x+=y.removeFromArray(this.calls[e],r);return x};l.prototype.clear=function(){this.calls={}};a.clazz("qubit.Events",l)})();(function(){function l(e){this.log=new k.opentag.Log("",function(){return this.CLASS_NAME+"["+this.config.name+"]"}.bind(this),"collectLogs");this.config={order:0,include:true,name:"Filter-"+y++,script:undefined,session:undefined,restartable:true};this.runtimeId=a.UUID();this.session=
null;if(e){for(var q in e)if(e.hasOwnProperty(q))this.config[q]=e[q];if(e.session)this.setSession(e.session);this.register(this)}this.events=new k.Events({})}var a=k.opentag.Utils;var y=0;var r=[];k.Define.clazz("qubit.opentag.filter.BaseFilter",l);l.state={DISABLED:-3,SESSION:-2,PASS:-1,FAIL:0};var x="restart";l.prototype.EVENT_TYPES={RESTART_EVENT:x};l.prototype.prepareForRestart=function(){if(this.config.restartable){this.events.call(x,this);this.reset()}};l.prototype.onRestart=function(e){this.events.on(x,
e)};l.prototype.reset=function(){this.runtimeId=a.UUID();this.enable()};l.prototype.disable=function(){this.config.disabled=true};l.prototype.enable=function(){this.config.disabled=false};l.prototype.match=function(){return true};l.prototype.setSession=function(e){this.session=e};l.prototype.getSession=function(){return this.session};l.prototype.getState=function(){var e=l.state.PASS;if(this.config.disabled)return l.state.DISABLED;if(this.config.script)e=this.config.script.call(this,e);if(isNaN(+e))e=
l.state.FAIL;this.lastState=+e;return e};l.getFilters=function(){return r};l.prototype.register=function(){l.register(this)};l.register=function(e){a.addToArrayIfNotExist(r,e)}})();(function(){var l=k.Define;var a={CONTAINS:"CONTAINS",MATCHES_EXACTLY:"MATCHES_EXACTLY",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH",REGULAR_EXPRESSION:"REGULAR_EXPRESSION",ALL_URLS:"ALL_URLS"};l.namespace("qubit.opentag.filter.pattern.PatternType",a)})();(function(){function l(e){this._lockObject={};var q={patternType:x.CONTAINS,
pattern:""};if(e)for(var c in e)if(e.hasOwnProperty(c))q[c]=e[c];l.SUPER.call(this,q)}var a=k.opentag.Utils;var y=k.opentag.filter.BaseFilter;var r=k.opentag.Timed;var x=k.opentag.filter.pattern.PatternType;k.Define.clazz("qubit.opentag.filter.URLFilter",l,y);l.prototype.PATTERNS=x;l.prototype.getURL=function(e){return e||a.getUrl()};l.prototype.match=function(e){e=this.getURL(e);var q=true;var c=this.config.pattern;switch(this.config.patternType){case x.CONTAINS:q=e.toLowerCase().indexOf(c.toLowerCase())>=
0;break;case x.MATCHES_EXACTLY:q=e.toLowerCase()===this.config.pattern.toLowerCase();break;case x.STARTS_WITH:q=e.toLowerCase().indexOf(c.toLowerCase())===0;break;case x.ENDS_WITH:q=e.lastIndexOf(c.toLowerCase())+c.length===e.length;break;case x.REGULAR_EXPRESSION:q=(new RegExp(c)).test(e);break;case x.ALL_URLS:q=true;break}return q}})();(function(){function l(e){var q={};if(e){for(var c in e)if(e.hasOwnProperty(c)){if(c==="customStarter"&&e[c])this.customStarter=e[c];else if(c==="customScript"&&
e[c])this.customScript=e[c];q[c]=e[c]}this.uid="f"+x++}this.tagsToRun=[];l.SUPER.call(this,q)}var a=k.opentag.filter.BaseFilter;var y=k.opentag.filter.URLFilter;var r=k.opentag.Utils;var x=0;k.Define.clazz("qubit.opentag.filter.Filter",l,y);l.prototype.customStarter=function(e,q,c){q(false)};l.prototype.isSession=function(){if(this.config.sessionDisabled)return false;if(this.customStarter===null&&this.customScript===null)return false;return true};l.prototype.customScript=function(e){return true};
l.prototype.match=function(e){var q=true;try{if(this.customScript){if(this._matchState===undefined)this._matchState=!!this.customScript(this.getSession());q=this._matchState}}catch(c){q=false}return q&&l.SUPER.prototype.match.call(this,e)};l.prototype.runTag=function(e){r.addToArrayIfNotExist(this.tagsToRun,e);if(!this.starterExecuted){if(!this._starterWasRun){this._starterWasRun=true;var q=this.runtimeId;var c=function(u){if(q!==this.runtimeId)return;this.reRun=u;this.starterExecuted=(new Date).valueOf();
this._processQueuedTagsToRun()}.bind(this);if(this.customStarter)this.customStarter(this.getSession(),c,e);else l.prototype.customStarter.call(this,this.getSession(),c,e)}}else this._triggerTag(e)};l.prototype._processQueuedTagsToRun=function(){for(var e=0;e<this.tagsToRun.length;e++){var q=this.tagsToRun[e];this._triggerTag(q)}};l.prototype._triggerTag=function(e){if(this.reRun===true)e.run();else e.runOnce()};l.prototype.getState=function(e){if(e)this.setSession(e);var q=l.SUPER.prototype.getState.call(this);
if(q===a.state.DISABLED)return a.state.DISABLED;if(q===a.state.PASS)if(this.isSession())q=a.state.SESSION;if(this.config.script)q=this.config.script.call(this,q,this.getSession());this.lastState=q;return q};l.prototype.reset=function(){l.SUPER.prototype.reset.call(this);this._matchState=undefined;this._starterWasRun=undefined;this.starterExecuted=undefined;this.tagsToRun=[];this.reRun=undefined}})();M.html.GlobalEval={};M.html.GlobalEval.globalEval=function(l){if(window.execScript)window.execScript(l===
""?" ":l);else{var a=function(){window["eval"].call(window,l)};a()}};M.html.HtmlInjector={};M.html.HtmlInjector.inject=function(l,a,y,r,x){var e;var q;var c;var u;var v;var w;var D;if(y.toLowerCase().indexOf("\x3cscript")>=0){c=document.createElement("div");c.innerHTML="a"+y;u=c.getElementsByTagName("script");v=[];for(e=0,q=u.length;e<q;e+=1)v.push(u[e]);D=[];for(e=0,q=v.length;e<q;e+=1){w=v[e];var f={attributes:M.html.HtmlInjector.getAttributes(w)};if(w.src)f.src=w.src;else f.script=w.innerHTML;
D.push(f);w.parentNode.removeChild(w)}if(c.innerHTML)if(c.innerHTML.length>0)c.innerHTML=c.innerHTML.substring(1);M.html.HtmlInjector.doInject(l,a,c);M.html.HtmlInjector.loadScripts(D,0,r,l)}else{c=document.createElement("div");c.innerHTML=y;M.html.HtmlInjector.doInject(l,a,c);if(r)r()}};M.html.HtmlInjector.doInject=function(l,a,y){if(y.childNodes.length>0){for(var r=document.createDocumentFragment();y.childNodes.length>0;)r.appendChild(y.removeChild(y.childNodes[0]));if(a)M.html.HtmlInjector.injectAtStart(l,
r);else M.html.HtmlInjector.injectAtEnd(l,r)}};M.html.HtmlInjector.injectAtStart=function(l,a){if(l.childNodes.length===0)l.appendChild(a);else l.insertBefore(a,l.childNodes[0])};M.html.HtmlInjector.injectAtEnd=function(l,a,y){if(!y)y=1;if(l===document.body&&document.readyState!=="complete"&&y<50)setTimeout(function(){M.html.HtmlInjector.injectAtEnd(l,a,y+1)},100);else l.appendChild(a)};M.html.HtmlInjector.loadScripts=function(l,a,y,r){var x;var e;var q=false;for(x=l.length;a<x;a+=1){e=l[a];if(e.src){q=
true;break}else M.html.GlobalEval.globalEval(e.script)}if(q)M.html.fileLoader.load(e.src,null,function(){M.html.HtmlInjector.loadScripts(l,a+1,y,r)},r,false,e.attributes);if(y&&a===x)y()};M.html.HtmlInjector.getAttributes=function(l){var a;var y;var r;var x;var e;var q={};if(l){r=l.attributes;y=r.length;for(a=0;a<y;a++){x=r[a].value;e=r[a].name.toLowerCase();if(x!==""&&(e==="id"||e==="class"||e==="charset"||e.substr(0,5)==="data-"))q[e]=x}return q}};(function(){function l(){D=D||{write:document.write,
writeln:document.writeln}}function a(){document.write=D.write;document.writeln=D.writeln;D=null}var y=k.opentag.filter.BaseFilter;var r=k.opentag.Utils;var x=M.html.HtmlInjector;var e=M.html.fileLoader;var q=k.opentag.filter.Filter;var c=function(){};k.Define.clazz("qubit.opentag.TagsUtils",c);var u=false;c.bodyLoaded=function(){if(u)return true;u=!!(document.body&&document.readyState!=="loading");return u};c.bodyAvailable=function(d){return!!document.body};var v={};var w={SUCCESS:"success",FAIL:"failure",
INIT:"not started"};c.loadScript=function(d){var b=d.url;var g=function(G,I,K){v[b].error=I;if(K){v[b].state=w.FAIL;d.onerror()}else{v[b].state=w.SUCCESS;d.onsuccess()}};if(v[b]){if(d.noMultipleLoad)return g(b,v[b].error,v[b].state===w.FAIL);v[b].count+=1}else v[b]={count:1,state:null};var p=!d.async;var A=c.bodyLoaded();if(p&&A);p=p&&!A;if(p)c.writeScriptURL(b,function(G,I){g(b,I,!G)});else e.load(b,false,g,d.node,d.async)};var D=null;c.redirectDocumentWritesToArray=function(d,b){var g=d;l();document.write=
function(p){g.push(p)};document.writeln=function(p){g.push(p)}};c.flushDocWritesArray=function(d,b,g,p,A){var G=b;if(G&&d){var I=d.splice(0,d.length);try{c.injectHTML(G,g,I.join("\n"),A||O);return true}catch(L){}}else{var K="Flushing location not found!";return false}if(A)A();return true};c.unlockDocumentWrites=function(){if(D)a()};var f=c.prototype.PACKAGE_NAME+".TagsUtils._writeScriptURL_callbacks";var z={};k.Define.namespace(f,z,H,true);var B=0;var C=(new Date).valueOf();c.writeScriptURL=function(d,
b){var g="_"+C+"_"+B++;var p=f+"."+g;var A=false;z[g]=function(P){if(A)return;A=true;if(P)b(false,"error while loading script "+d);else b(true);z[g]=undefined;delete c.writeScriptURL.callbacks[g]};var G='if(this.readyState \x3d\x3d\x3d "loaded" || '+'this.readyState \x3d\x3d\x3d "complete"){ try {'+p+"(true)"+"} catch (ex) {}}";var I="try{"+p+"(false)}catch(ex){}";var K="try{"+p+"(true)}catch(ex){}";var L="scr";var N;d=e.tidyUrl(d);N="\x3c"+L+"ipt onload\x3d'"+I+"'  onerror\x3d'"+K+"' onreadystatechange\x3d'"+
G+"' type\x3d'text/javascript' "+" src\x3d'"+d+"'\x3e"+"\x3c/"+L+"ipt\x3e";if(D){a();document.write(N);l()}else document.write(N);r.bodyReady(function(){if(!A){A=true;b(true)}})};c.writeScriptURL.callbacks={};var n=y.state.SESSION;var m=y.state.PASS;var t=y.state.FAIL;c.filtersState=function(d,b,g,p){d=d.sort(function(U,ga){try{var ca=ga.config.order;var da=U.config.order;if(isNaN(-da))da=0;if(isNaN(-ca))ca=0;return ca-da}catch(ja){return 0}});var A=m;if(!d||d.length===0)return A;var G=null;var I=
false;var K=false;var L=0;var N;var P;var V=[];var R;var Q;for(var W=0;W<d.length;W++){R=d[W];R.setSession(b);if(R.match()){N=R.getState();if(N>0){if(L===0||L>N)L=N}else if(N===y.state.DISABLED)I=true;else if(N===n){K=true;G=R;P=R;V.push(R)}else G=R}else Q=R}var Y=false;if(G===null){Y=true;if(!I)A=t;else A=m}else if(G.config.include)A=N;else A=N===m?t:m;if(L>0&&(A===m||Y))A=L;if(A===n||A===m&&K){if(!P.config.include)return t;A=n;if(P instanceof q&&P.isSession())if(p)for(var T=0;T<V.length;T++)try{V[T].runTag(g)}catch(U){}}if(g.config.dedupe&&
A===m)if(Q&&Q instanceof q&&Q.isSession()){g.sendDedupePing=true;A=t}return A};c.injectHTML=function(d,b,g,p){return x.inject(d,!b?1:0,g,p||O)};c.getHTMLLocationForTag=function(d){var b;var g=d.prepareLocationObject(d.config.locationObject);switch(g){case "HEAD":b=document.getElementsByTagName("head")[0];break;case "BODY":b=document.body;break;default:if(g)b=document.getElementById(g);else b=document.body}return b}})();(function(){function l(c){this.config={};this.handlers=[];this.parameters=null;
this.callHandlersOnRead=false;if(c){this.uniqueId="BV"+x++;l.ALL_VARIABLES[this.uniqueId]=this;for(var u in c)if(c.hasOwnProperty(u)){this.config[u]=c[u];if(u==="value")this.value=c.value}var v=l.register(this);if(v&&v!==this);return v}}function a(){if(q)return false;for(var c=0;c<e.length;c++)try{var u=e[c];u.getValue()}catch(v){}r.setTimeout(a,l.CHECK_POLL_RATE);return true}var y=k.opentag.Utils;var r=k.opentag.Timed;var x=0;k.Define.clazz("qubit.opentag.pagevariable.BaseVariable",l);l.ALL_VARIABLES=
{};var e=[];l.OBSERVED_VARIABLES=e;l.pageVariables=[];l.register=function(c){if(c instanceof l){for(var u=0;u<l.pageVariables.length;u++){var v=l.pageVariables[u];if(c===v)return v}l.pageVariables.push(c);return c}return null};l.prototype.getValue=function(){this._updateCurrentValue(this.value);return this.currentValue};l.prototype._updateCurrentValue=function(c){if(!this.valuesAreEqual(c,this.currentValue)){this.oldValue=this.currentValue;this.currentValue=c;if(!q||this.callHandlersOnRead)this._handleValueChanged();
return true}return false};l.prototype.getDefaultValue=function(){return this.defaultValue};l.prototype.setDefaultValue=function(c){this.defaultValue=c};l.prototype.exists=function(c){var u=y.variableExists(this.getValue());if(c)u=u||y.variableExists(this.getDefaultValue());return u};l.prototype.getRelativeValue=function(c,u){var v=this.getValue();if(!y.variableExists(v))v=u;var w;if(c&&!y.variableExists(v)){w=this.getDefaultValue();if(y.variableExists(w))v=w}return v};l.prototype.replaceToken=function(c,
u,v,w){var D=this.exists();var f=D?this.getValue():v;c="\\$\\{"+c+"\\}";if(w||f instanceof Array){var z;if(D)z=this.getValueAccessorString();else z=y.getAnonymousAcessor(f);return u.replace(new RegExp(c,"g"),z)}else return u.replace(new RegExp(c,"g"),f)};l.prototype.getAccessorString=function(){return"qubit.opentag.pagevariable.BaseVariable.ALL_VARIABLES."+this.uniqueId};l.prototype.getValueAccessorString=function(){return this.getAccessorString()+".getValue()"};l.prototype.onValueChanged=function(c,
u){if(y.addToArrayIfNotExist(this.handlers,c)===-1);if(u!==false)this.startObservingForChanges()};l.prototype.deatchOnValueChanged=function(c){if(y.removeFromArray(this.handlers,c)>0);};l.prototype._handleValueChanged=function(){var c={oldValue:this.oldValue,newValue:this.currentValue,variable:this};for(var u=0;u<this.handlers.length;u++)try{this.handlers[u](c)}catch(v){}};var q=true;l.CHECK_POLL_RATE=333;l.prototype.startObservingForChanges=function(){this.addToObservedVariables();if(q){q=false;
a()}};l.prototype.stopObservingForChanges=function(){this.removeFromObservedVariables();if(e.length===0)q=true};l.prototype.addToObservedVariables=function(){y.addToArrayIfNotExist(e,this)};l.prototype.removeFromObservedVariables=function(){y.removeFromArray(e,this)};l.prototype.getObservedVariables=function(){return e};l.prototype.valuesAreEqual=function(c,u){return c===u}})();(function(){function l(r){this._lockExprObject={};l.SUPER.apply(this,arguments)}var a=k.opentag.Utils;var y=k.opentag.Timed;
k.Define.clazz("qubit.opentag.pagevariable.Expression",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=function(){var r;var x;var e=this.value;try{if(e&&e.indexOf("[#]")===-1){var q=a.gevalAndReturn(e);r=q.result;this.failMessage=null;x=q.error}else r=l.parseUVArray(e)}catch(v){x=v}if(x){var c="could not read value of expression: \n"+e+"\nexact cause: "+x;if(this.failMessage!==c)this.failMessage=c;r=null}var u=this._updateCurrentValue(r);return r};l.parseUVArray=function(r){var x=r.split("[#]");
var e=a.gevalAndReturn(x[0]).result;var q=[];var c=x[1];if(c.indexOf(".")===0)c=c.replace(".","");for(var u=0;u<e.length;u++){var v=a.getObjectUsingPath(c,e[u]);q.push(v)}return q};l.prototype.replaceToken=function(r,x,e,q){if(this.getValue()instanceof Array)q=true;return l.SUPER.prototype.replaceToken.call(this,r,x,e,q)}})();(function(){function l(y){l.SUPER.apply(this,arguments)}var a=k.opentag.Utils;k.Define.clazz("qubit.opentag.pagevariable.DOMText",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=
function(){var y=a.getElementValue(this.value);this._updateCurrentValue(y);return y}})();(function(){function l(a){l.SUPER.apply(this,arguments);this._lockObject={}}k.Define.clazz("qubit.opentag.pagevariable.Cookie",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=function(){var a=k.Cookie.get(this.value);this._updateCurrentValue(a);return a}})();(function(){function l(y){l.SUPER.apply(this,arguments)}var a=k.opentag.Utils;k.Define.clazz("qubit.opentag.pagevariable.URLQuery",l,k.opentag.pagevariable.BaseVariable);
l.prototype.getValue=function(){var y=a.getQueryParam(this.value);this._updateCurrentValue(y);return y}})();(function(){function l(a){l.SUPER.apply(this,arguments)}k.Define.clazz("qubit.opentag.pagevariable.UniversalVariable",l,k.opentag.pagevariable.Expression)})();(function a(){function y(){function r(m){C.level=m}function x(m,t){C.info(m,"event emitted");t=w(t||{});t.meta=t.meta||{};t.meta.type=m;z.push(t);c();n.listeners=f(n.listeners,function(d){return!d.disposed})}function e(m,t,d){function b(){C.info("Replaying events");
q(function(){v(n.events,function(G){if(p.disposed)return;if(!D(m,G.meta.type))return;t.call(d,G)})});return A}function g(){C.info("Disposing event handler");p.disposed=true;return A}C.info("Attaching event handler for",m);var p={type:m,callback:t,disposed:false,context:d||window};n.listeners.push(p);var A={replay:b,dispose:g};return A}function q(m){C.info("Calling event handlers");B++;try{m()}catch(t){C.error("UV API Error",t.stack)}B--;c()}function c(){if(z.length===0)C.info("No more events to process");
if(z.length>0&&B>0)C.info("Event will be processed later");if(z.length>0&&B===0){C.info("Processing event");var m=z.shift();n.events.push(m);q(function(){v(n.listeners,function(t){if(t.disposed)return;if(!D(t.type,m.meta.type))return;try{t.callback.call(t.context,m)}catch(d){C.error("Error emitting UV event",d.stack)}})})}}function u(m,t,d){var b=n.on(m,function(){t.apply(d||window,arguments);b.dispose()});return b}function v(m,t){var d=m.length;for(var b=0;b<d;b++)t(m[b],b)}function w(m){var t={};
for(var d in m)if(m.hasOwnProperty(d))t[d]=m[d];return t}function D(m,t){return typeof m==="string"?m===t:m.test(t)}function f(m,t){var d=m.length;var b=[];for(var g=0;g<d;g++)if(t(m[g]))b.push(m[g]);return b}var z=[];var B=0;var C={info:function t(){if(C.level>r.INFO)return;if(console&&console.info)console.info.apply(console,arguments)},error:function d(){if(C.level>r.ERROR)return;if(console&&console.error)console.error.apply(console,arguments)}};r.ALL=0;r.INFO=1;r.ERROR=2;r.OFF=3;r(r.ERROR);var n=
{on:e,emit:x,once:u,events:[],listeners:[],logLevel:r};return n}if(typeof module==="object"&&module.exports)module.exports=y;else if(window&&window.uv===undefined)window.uv=y()})();var aa={};var Z=[];var ea=false;var ba=false;var ia=k.Define.global();var ha={allEventsByType:aa,subscribe:function(a,y){if(ba){var r=F();r.on(a,y)}else Z.push({on:[a,y]})},getEventHistory:function(a){return this.allEventsByType[a]},publish:function(a,y){if(ba){var r=F();r.emit(a,y)}else Z.push({emit:[a,y]})},connect:function(){h()}};
ha.connect();k.Define.namespace("qubit.qprotocol.PubSub",ha);(function(){function a(e){a.SUPER.apply(this,arguments)}var y=k.qprotocol.PubSub;var r=k.opentag.Utils;var x=":";k.Define.clazz("qubit.opentag.pagevariable.QProtocolVariable",a,k.opentag.pagevariable.BaseVariable);a.prototype.init=function(){if(this.initialized)return false;else this.initialized=(new Date).valueOf();this.callHandlersOnRead=true;if(!this.handlerAttached){var e=this;var q=this.getValueAndPath(this.value);this.eventName=q[0];
this.objectPath=q[1];this.updateValue();y.subscribe(this.eventName,function(c){e.updateValue(c)});this.handlerAttached=(new Date).valueOf()}};a.prototype.getValueAndPath=function(e){var q=e;var c;if(q){var u=e.indexOf(x);if(u!==-1){q=e.substring(0,u);c=e.substring(u+1)}}return[q,c]};a.prototype.getValue=function(){this.init();return this.currentValue};a.prototype.getEventsHistory=function(){return y.getEventHistory(this.eventName)};a.prototype.updateValue=function(e){if(!e){var q=this.getEventsHistory();
if(q)e=q.current}var c;var u=this.objectPath;if(e&&u)c=r.getObjectUsingPath(u,e);else c=e;this._updateCurrentValue(c);return c};a.prototype.startObservingForChanges=function(){};a.prototype.stopObservingForChanges=function(){}})();(function(){function a(){}function y(m,t){var d=[];try{var b=m.parameters;if(b)for(var g=0;g<b.length;g++)if(m.getVariableForParameter(b[g])===t)d.push(b[g])}catch(p){}return d}var r=k.opentag.Utils;var x=k.opentag.TagsUtils;var e=k.opentag.Timed;var q=k.opentag.pagevariable.BaseVariable;
var c=k.opentag.pagevariable.Expression;var u=k.opentag.pagevariable.UniversalVariable;var v=k.opentag.pagevariable.DOMText;var w=k.opentag.pagevariable.Cookie;var D=k.opentag.pagevariable.URLQuery;k.Define.clazz("qubit.opentag.TagHelper",a);a.injectHTMLForLoader=function(m,t,d,b){var g=b!==undefined?b:m.getHtml();if(g){var p=m.config.locationPlaceHolder==="END";var A=x.getHTMLLocationForTag(m);m.injectHTMLNotFinished=true;try{if(A)x.injectHTML(A,p,g,function(){m.injectHTMLNotFinished=false;if(t)try{t()}catch(G){}}.bind(m));
else if(d&&document.readyState==="loading"){document.write(g);m.injectHTMLNotFinished=false}else m.injectHTMLFailed=(new Date).valueOf()}catch(G){m.injectHTMLNotFinished=false;m.injectHTMLFailed=(new Date).valueOf()}}};a.getAllVariablesWithParameters=function(m){var t=m.getPageVariables();var d=[];for(var b=0;b<t.length;b++){var g=t[b];var p=y(m,g);for(var A=0;A<p.length;A++)d.push({parameter:p[A],variable:g})}return d};var f={};a.allParameterVariablesReadyForTag=function(m,t){var d=t;var b=true;
var g=m.getPageVariables();for(var p=0;p<g.length;p++){var A=g[p];try{var G=y(m,A);var I=A.exists();if(!I&&d){if(G.length>0)I=!!G[0].defaultValue;I=I||A.exists(true)}if(!I){b=false;break}}catch(K){b=false;break}}return b};var z="2";var B="3";var C="4";var n="5";a.validateAndGetVariableForParameter=function(m){if(m.hasOwnProperty("variable")&&m.variable)m.variable=a.initPageVariable(m.variable);return m.variable};a.initPageVariable=function(m){if(!m||m instanceof q)return m;if(typeof m==="string"){var t=
r.getObjectUsingPath(m);if(t&&t instanceof q)return t}switch(m.type){case z:return new c(m);case B:return new D(m);case C:return new w(m);case n:return new v(m);case "EPRESSION":return new c(m);case "URL_PARAMETER":return new D(m);case "COOKIE_VALUE":return new w(m);case "DOM_VALUE":return new v(m);default:return new q(m)}}})();(function(){function a(f){this.log=new u("",function(){return this.CLASS_NAME+"["+this.config.name+"]"}.bind(this),"collectLogs");this.urlsLoaded=0;this.urlsFailed=0;this.runCounter=
0;this.events=new k.Events({});this._depLoadedHandler=function(){if(this.dependenciesLoaded()&&this.awaitingDependencies)this._triggerLoadingAndExecution()}.bind(this);this.config={name:"Tag-"+c++,async:true,usesDocumentWrite:false,timeout:this.LOADING_TIMEOUT,dependencies:[],url:null,urlLocation:null,locationPlaceHolder:"END",locationObject:null,dontWaitForInjectionLocation:false,noMultipleLoad:false,loadDependenciesOnLoad:false,restartable:true};this.restartCounter=0;this.cancelled=false;this.runtimeId=
r.UUID();this.delayDocWrite=false;this.dependencies=[];this._lockObject={count:0};this._lockObjectDepsLoaded={};this.genericDependencies=[];if(f){if(!f.name){var z="Tag-"+c++;this.config.name=z}this.addState("INITIAL");for(var B in f)this.config[B]=f[B];if(f.genericDependencies)this.genericDependencies=this.genericDependencies.concat(f.genericDependencies);if(f.dependencies)this.dependencies=f.dependencies.concat(this.dependencies);if(f.PACKAGE)this._package=f.PACKAGE;this.onInit()}}function y(){if(this.cancelled){this._handleCancel();
return}this.waitForDependenciesFinished=(new Date).valueOf();var f=this._fullBodyNeededAndUnLoaded();var z=this._bodyNeededButNotAvailable();if(f||z)this.waitForDependenciesFinished=false;else{if(!this.timeoutCountdownStart)this.timeoutCountdownStart=(new Date).valueOf();if(this.allDependenciesLoaded())this._markLoadedSuccesfuly();else if(this._loadingOutOfTimeFrames()){this.loadingTimedOut=(new Date).valueOf();if(this.allDependenciesLoaded(true))this._markLoadedSuccesfuly();else{this.addState("TIMED_OUT");
this._markLoadingDependenciesFailed();this._triggerOnLoadTimeout()}}else this.waitForDependenciesFinished=false}if(!this.waitForDependenciesFinished)this._setTimeout(y.bind(this),65);else this.addState("LOADED_DEPENDENCIES")}var r=k.opentag.Utils;var x=k.opentag.TagsUtils;var e=k.opentag.Timed;var q=k.opentag.TagHelper;var c=0;var u=k.opentag.Log;k.Define.clazz("qubit.opentag.GenericLoader",a);var v="after";var w="before";var D="restart";a.prototype.EVENT_TYPES={AFTER_EVENT:v,BEFORE_EVENT:w,RESTART_EVENT:D};
a.prototype.onInit=O;a.prototype.LOADING_TIMEOUT=5*1E3;a.prototype.getHtml=function(){if(this.config.html)return this.config.html;if(this.htmlContent)return r.trim(this.htmlContent);return null};a.prototype._executeScript=function(){var f=false;try{this.script();f=true}catch(z){this.addState("EXECUTED_WITH_ERRORS");this.executedWithErrors=(new Date).valueOf();this._onError(z)}finally{this._onExecute(f)}};a.prototype.getTimeout=function(){return this._getTimeout()};a.prototype._getTimeout=function(f){var z=
+this.config.timeout;var B=this.dependencies;if(z!==-1&&B.length>0){var C=0;f=f||[];var n=r.indexInArray(f,this)!==-1;if(!n){f[f.length]=this;for(var m=0;m<B.length;m++){var t=B[m]._getTimeout(f);if(t>C)C=t}if(C>0)z+=C}else return 0}return z};a.prototype._onExecute=function(f){this.onExecute(f)};a.prototype.onExecute=O;a.prototype._flushDocWrites=function(f){var z=true;this._docWriteNotFlushed=false;try{var B=x.getHTMLLocationForTag(this);if(B&&this._securedWrites&&this._securedWrites.length>0){var C=
this.config.locationPlaceHolder==="END";z=x.flushDocWritesArray(this._securedWrites,B,C,this.log,f);if(z)this._docWriteFlushed=(new Date).valueOf();else this._docWriteNotFlushed=(new Date).valueOf()}}catch(n){this._onError(n)}if(f)f();if(this._securedWrites&&this._securedWrites.length>0){z=false;this._docWriteNotFlushed=(new Date).valueOf()}return z};a.prototype.log=O;a.prototype.finished=function(){return!!this.runIsFinished};a.prototype.script=function(){};a.prototype.before=function(){this.beforeRun=
(new Date).valueOf();try{this.events.call(w,this)}catch(f){this._onError(f)}};a.prototype.onBefore=function(f){this.events.on(w,f)};a.prototype.after=function(f){this.afterRun=(new Date).valueOf();try{this.events.call(v,{success:f,tag:this})}catch(z){this._onError(z)}};a.prototype.onAfter=function(f){this.events.on(v,f)};a.prototype.runOnce=function(){if(!this._runOnceTriggered&&!this.scriptExecuted){this._runOnceTriggered=(new Date).valueOf();this.run()}};a.CANCEL_ALL=false;a.prototype.run=function(){if(!isNaN(this.config.runningLimit))if(this.config.runningLimit<=
this.runCounter)return false;if(this.cancelled||a.CANCEL_ALL){this._handleCancel();return false}if(this.isRunning)return false;if(this.lastRun)this.reset();this.lastRun=this.isRunning=(new Date).valueOf();this.runCounter++;this._ignoreDeps=!!this.ignoreDependencies;if(!this._ignoreDeps&&!this.dependenciesLoaded()){this._attachDepsEventsToContinue();return false}return this._triggerLoadingAndExecution()};a.prototype._triggerLoadingAndExecution=function(){this.awaitingDependencies=-(new Date).valueOf();
this.load();if(this._ignoreDeps)this.execute();else this.waitForDependenciesAndExecute();return true};a.prototype._attachDepsEventsToContinue=function(){this.awaitingDependencies=(new Date).valueOf();var f=this.dependencies;for(var z=0;z<f.length;z++)try{f[z].events.on("success",this._depLoadedHandler)}catch(B){}};a.prototype.dependenciesLoaded=function(){var f=this.dependencies;for(var z=0;z<f.length;z++)if(f[z]!==this){var B=+f[z].scriptExecuted>0;if(!B)return false}return true};a.prototype._setTimeout=
function(f,z){this._wasTimed=(new Date).valueOf();var B=this.runtimeId;var C=function(){if(this.runtimeId===B)return f()}.bind(this);return e.setTimeout(C,z)};a.prototype._handleCancel=function(){this.addState("CANCELLED");try{this.onCancel()}catch(f){this._onError(f)}};a.prototype.waitForDependenciesAndExecute=function(){if(this.loadedDependencies)this.execute();else if(this.loadingDependenciesFailed){this._markFailure();this._markFinished()}else this._setTimeout(this.waitForDependenciesAndExecute.bind(this),
30)};a.prototype.execute=function(){this._triggerExecution()};a.prototype._triggerExecution=function(){if(this.cancelled){this._handleCancel();return}if(this.scriptExecuted)return;var f=true;if(this.shouldWaitForDocWriteProtection())f=false;else{if(!this._beforeEntered){this._beforeEntered=(new Date).valueOf();var z=false;try{z=this.before()}catch(C){this._onError(C)}if(z){this._markFailure();this._markFinished();return}}f=this.loadExecutionURLsAndHTML(this._triggerExecution.bind(this))}if(this.scriptExecuted)return;
if(this.unexpectedFail)f=true;if(!f)this._setTimeout(this._triggerExecution.bind(this),30);else{this._flushDocWrites();if(this.scriptLoadingFailed||this.injectHTMLFailed||this.unexpectedFail)this._markFailure();else{this.scriptExecuted=(new Date).valueOf();this.addState("EXECUTED");this._executeScript()}if(this.cancelled){this._handleCancel();return false}else{var B=this.scriptExecuted>0;try{if(!this.afterRun){this.afterRun=(new Date).valueOf();this.after(B)}}catch(C){this.executedWithErrors=(new Date).valueOf()}if(!this.executedWithErrors)if(B)this.events.call("success")}this._flushDocWrites();
this._markFinished()}};a.prototype._markFailure=function(){this.scriptExecuted=-(new Date).valueOf();this.addState("FAILED_TO_EXECUTE")};a.prototype._markFinished=function(){this.runIsFinished=(new Date).valueOf();this.isRunning=false;if(a.LOCK_DOC_WRITE===this){this._flushDocWrites();x.unlockDocumentWrites();a.LOCK_DOC_WRITE=false}this.onFinished(true)};a.prototype.onFinished=O;a.prototype.onCancel=O;a.prototype.onFinished=O;a.prototype.shouldWaitForDocWriteProtection=function(){if(this.willSecureDocumentWrite())if(!a.LOCK_DOC_WRITE){a.LOCK_DOC_WRITE=
this;this._secureWriteAndCollectForExecution()}else if(a.LOCK_DOC_WRITE!==this){if(!this._lockedDocWriteInformed)this._lockedDocWriteInformed=(new Date).valueOf();return true}return false};a.prototype.runWithoutDependencies=function(){this.ignoreDependencies=true;this.run()};a.prototype.loadExecutionURLsAndHTML=function(f){if(this.cancelled){this._handleCancel();return true}if(!this._loadExecutionURLsAndHTMLInformed)this._loadExecutionURLsAndHTMLInformed=true;this._triggerURLsLoading(f);if(!this.loadURLsNotFinished){this._flushDocWrites();
this._triggerHTMLInjection();this._flushDocWrites();if(!this.injectHTMLNotFinished){this._flushDocWrites();if(!this._docWriteNotFlushed){if(this._docWriteFlushed);return true}}}return false};a.prototype._triggerURLsLoading=function(f){if(!this._urlLoadTriggered&&this.config.url){this._urlLoadTriggered=true;this.loadURLs(false,f)}};a.prototype._triggerHTMLInjection=function(){if(!this._injectHTMLTriggered&&this.getHtml()){this._injectHTMLTriggered=true;this.injectHTML()}};a.prototype.STATE={INITIAL:0,
STARTED:1,LOADING_DEPENDENCIES:2,LOADED_DEPENDENCIES:4,LOADING_URL:8,LOADED_URL:16,EXECUTED:32,EXECUTED_WITH_ERRORS:64,FAILED_TO_LOAD_DEPENDENCIES:128,FAILED_TO_LOAD_URL:256,FAILED_TO_EXECUTE:512,TIMED_OUT:1024,UNEXPECTED_FAIL:2048,CANCELLED:2048*2};a.prototype.addState=function(f){if(this.STATE.hasOwnProperty(f)){this.state=this.state|this.STATE[f];try{this.onStateChange(f)}catch(z){this._onError(z)}}};a.prototype.onStateChange=O;a.prototype.cancel=function(){this.cancelled=(new Date).valueOf()};
a.prototype.unCancel=function(){this.cancelled=false};a.prototype.state=a.prototype.STATE.INITIAL;a.prototype._markLoadedSuccesfuly=function(){this.loadedDependencies=(new Date).valueOf();this.onAllDependenciesLoaded()};a.prototype._secureWriteAndCollectForExecution=function(){if(!this._securedWrites){this._securedWrites=[];x.redirectDocumentWritesToArray(this._securedWrites,this.log)}};a.prototype._markLoadingDependenciesFailed=function(){this.addState("FAILED_TO_LOAD_DEPENDENCIES");this.loadingDependenciesFailed=
(new Date).valueOf()};a.prototype.allDependenciesLoaded=function(f,z){return this.getDependenciesToBeLoaded(f,z).length===0};a.prototype.getDependenciesToBeLoaded=function(f,z){var B=z||[];if(!this.injectionLocationReady())B.push("injection location");var C;var n=this.dependencies;for(C=0;C<n.length;C++)if(n[C]!==this){var m=+n[C].scriptExecuted>0;if(!m){var t=n[C].config?n[C].config.name:"anonymous";B.push("dependant Tag with name -\x3e "+t)}}for(C=0;C<this.genericDependencies.length;C++){var d=
this.genericDependencies[C](this);if(!d)B.push("this.genericDependencies["+C+"] (index: "+C+")")}if(B!=="");return B};a.prototype.docWriteAsksToWaitForBody=function(){return!!(this.delayDocWrite&&this.config.usesDocumentWrite)};a.prototype._bodyNeededButNotAvailable=function(){if(this._dontWaitForInjections())return false;return this._isBodyLocationNeeded()&&!x.bodyAvailable()};a.prototype._isBodyLocationNeeded=function(){if(!this.isLoadingAsynchronously())return false;if(this._isBodyLocationSet())return true;
else{var f=this.config.locationObject==="HEAD";return f&&this.config.locationPlaceHolder==="END"}};a.prototype._isBodyLocationSet=function(){var f=this.config.locationObject;return!f||f==="BODY"};a.prototype._fullBodyNeededAndUnLoaded=function(){if(this._dontWaitForInjections())return false;var f=false;if(this._isBodyLocationNeeded())f=this.config.locationPlaceHolder==="END";f=f||(this.fullbodyNeeded||this.docWriteAsksToWaitForBody());return f&&!r.bodyReady()};a.prototype._dontWaitForInjections=function(){return this.config.dontWaitForInjectionLocation||
this.dontWaitForInjectionLocation||a.dontWaitForInjectionLocation};a.prototype.injectionLocationReady=function(){if(this._dontWaitForInjections())return true;if(this._fullBodyNeededAndUnLoaded())return false;if(!this.isLoadingAsynchronously())return true;return!!x.getHTMLLocationForTag(this)};a.prototype._loadingOutOfTimeFrames=function(){if(this.getTimeout()<0)return false;return(new Date).valueOf()-this.timeoutCountdownStart>this.getTimeout()};a.prototype.loadDependencies=function(){this._loadDependencies()};
a.prototype.addClientDependenciesList=function(f,z){return this.addDependenciesList(f,k.Define.clientSpaceClasspath())};a.prototype.addDependenciesList=function(f,z){if(!f||f.length===0)return;if(!this.failedDependenciesToParse)this.failedDependenciesToParse=[];var B=this.dependencies;for(var C=0;C<f.length;C++){var n=f[C];var m=false;if(n instanceof a)B.push(n);else if(typeof n==="string"){var t=n;if(z)n=z+"."+n;var d=r.getObjectUsingPath(n);if(d)if(d instanceof a)B.push(d);else m=true;else this.failedDependenciesToParse.push(t)}else m=
true;if(m){this.badDepsObjects=this.badDepsObjects||[];r.addToArrayIfNotExist(this.badDepsObjects,n)}}};a.prototype._loadDependencies=function(f){f=f||[];var z=this.dependencies;var B=r.indexInArray(f,this)!==-1;if(!B){f[f.length]=this;for(var C=0;C<z.length;C++)z[C].load(f)}};a.prototype.onError=O;a.prototype._onError=function(f){try{this.onError(f)}catch(z){}};a.prototype._triggerOnLoadTimeout=function(){this.onLoadTimeout()};a.prototype.onLoadTimeout=O;a.prototype.onScriptsLoadSuccess=O;a.prototype.onScriptLoadError=
O;a.prototype.onAllDependenciesLoaded=O;a.prototype.onBeforeLoad=null;a.prototype.load=function(){if(this.loadStarted)return;else{this.loadStarted=(new Date).valueOf();try{if(this.onBeforeLoad)this.onBeforeLoad()}catch(f){this._onError(f)}}this.addState("LOADING_DEPENDENCIES");try{if(!this._ignoreDeps&&this.config.loadDependenciesOnLoad)this.loadDependencies()}catch(f){throw f;}y.call(this)};a.prototype._singleUrlLoadHandler=function(f,z,B){++this.urlsLoaded;if(!f)++this.urlsFailed;if(this.urlsLoaded===
z.length){this.loadURLsNotFinished=false;if(f&&this.urlsFailed===0){this.addState("LOADED_URL");this.urlsLoaded=(new Date).valueOf();try{if(B)B(true)}catch(n){this._onError(n)}finally{this.onScriptsLoadSuccess()}}else{var C="error loading urls. Failed "+this.urlsFailed;this._onError(C);this.addState("FAILED_TO_LOAD_URL");this.urlsLoaded=-(new Date).valueOf();try{this.scriptLoadingFailed=true;if(B)B(false)}catch(n){this._onError(n)}finally{this.onScriptLoadError(C)}}}};a.prototype.loadURLs=function(f,
z){var B=f||this.config.url;this.addState("LOADING_URL");try{if(B&&!(B instanceof Array))B=[B];for(var C=0;C<B.length;C++){this.loadURLsNotFinished=true;var n=B[C];n=this.prepareURL(n);this.loadURL(n,function(m){this._singleUrlLoadHandler(m,B,z)}.bind(this))}}catch(m){this.loadURLsNotFinished=false;this.addState("UNEXPECTED_FAIL");this.unexpectedFail=(new Date).valueOf();this._onError(m)}};a.prototype.prepareLocationObject=function(f){return f};a.prototype.prepareURL=function(f){return f};a.prototype.prepareHTML=
function(f){return f};a.prototype.loadURL=function(f,z,B){var C=f;this.addState("LOADING_URL");x.loadScript({onsuccess:function(){try{if(z)z(true)}catch(n){}}.bind(this),onerror:function(){try{if(z)z(false)}catch(n){}}.bind(this),url:C,node:B||this.config.urlLocation,async:this.isLoadingAsynchronously(),noMultipleLoad:this.config.noMultipleLoad})};a.prototype.onRestart=function(f){this.events.on(D,f)};a.prototype.prepareForRestart=function(){if(this.config.restartable){var f=this.restartCounter+1;
this.events.call(D,this);this.reset();this.restartCounter=f}};a.prototype.restart=function(){if(this.config.restartable){this.prepareForRestart();this.run()}};a.prototype.reset=function(){var f;this._injectHTMLTriggered=f;this._loadExecutionURLsAndHTMLInformed=f;this._lockedDocWriteInformed=f;this._runOnceTriggered=f;this._urlLoadTriggered=f;this.afterRun=f;this.beforeRun=f;this.filtersRunTriggered=f;this.injectHTMLFailed=f;this.loadStarted=f;this.loadURLsNotFinished=f;this.loadedDependencies=f;this.loadingDependenciesFailed=
f;this.loadingTimedOut=f;this.runIsFinished=f;this.scriptExecuted=f;this.scriptLoadingFailed=f;this.delayDocWrite=f;this._securedWrites=f;this.state=0;this.unexpectedFail=f;this.urlsFailed=0;this.urlsLoaded=0;this.waitForDependenciesFinished=f;this.isRunning=f;this.lastRun=f;this.cancelled=f;this._beforeEntered=f;this.awaitingDependencies=f;this.timeoutCountdownStart=f;this.restartCounter=0;this.runtimeId=r.UUID();this.addState("INITIAL")};a.prototype.isLoadingAsynchronously=function(){if(this._wasTimed)return true;
return!!(this.config.async||this.forceAsynchronous)};a.prototype.willSecureDocumentWrite=function(){return this.config.usesDocumentWrite&&this.isLoadingAsynchronously()};a.prototype.injectHTML=function(f){var z=!this.docWriteAsksToWaitForBody();var B=this.prepareHTML(this.getHtml());if(B)q.injectHTMLForLoader(this,f,z,B)};a.prototype.clone=function(){var f=new a(this.config);return f}})();(function(){function a(d){var b={filterTimeout:d&&d.filterTimeout||this.FILTER_WAIT_TIMEOUT,PACKAGE:d&&d.PACKAGE,
dedupe:false,needsConsent:false,inactive:false,variables:null,runner:null,disabled:false,locked:false,reRunOnVariableChange:false};r.setIfUnset(d,b);a.SUPER.apply(this,arguments);this.namedVariables={};this._runtimeMarkers={};this.parameters=[];this.filters=[];this.session=null;this.owningContainer=null;this.pingSent=false;this.oldPingSent=false;this.dedupePingSent=false;this.oldDedupePingSent=false;this.reRunCounter=0;if(d){this.addState("INITIAL");try{a.register(this)}catch(g){}this.setupConfig(d);
this.uniqueRefString=null;if(d.init)try{d.init.call(this,d)}catch(g){}this.onTagInit();this.handleVariableChange=this._handleVariableChange.bind(this)}}function y(d,b){var g=d.namedVariables;var p=u.initPageVariable(g[b]);g[b]=p;return p}var r=k.opentag.Utils;var x=k.opentag.TagsUtils;var e=k.opentag.Timed;var q=k.opentag.filter.BaseFilter;var c=k.opentag.GenericLoader;var u=k.opentag.TagHelper;var v=k.opentag.pagevariable.BaseVariable;var w=k.Cookie;var D=k.Define;D.clazz("qubit.opentag.BaseTag",
a,c);a.prototype.setupConfig=function(d){if(!d)return;if(d.filters)this.addFilters(d.filters);if(d.parameters)this.addParameters(d.parameters);if(d.variables)for(var b in d.variables)if(d.variables.hasOwnProperty(b)){var g=this.getParameterByTokenName(b);if(g){var p=d.variables[b];g.variable=p;if(p.defaultValue!==undefined)g.defaultValue=p.defaultValue;if(p.uv!==undefined)g.uv=p.uv}}if(d.locked)this.lock()};a.prototype.valueForToken=function(d,b){var g=this.getParameterByTokenName(d);if(g){if(b===
undefined)if(this.loadingTimedOut)b=true;return this.getParameterValue(g,b)}var p=this.namedVariables;if(p&&p[d]){var A=y(this,d);if(A)return A.getRelativeValue(b)}return undefined};a.prototype.addParameters=function(d){this.parameters=this.parameters.concat(d)};a.prototype.LOADING_TIMEOUT=5*1E3;a.prototype.FILTER_WAIT_TIMEOUT=-1;a.prototype._isVariable=function(d){return d!==null&&d!==undefined};a.prototype.run=function(){if(this.destroyed)throw"Tag is destroyed.";this.resolveAllDynamicData();this.runPostInitialisationSection();
var d=this.parameters;if(d)for(var b=0;b<d.length;b++){var g=this.getVariableForParameter(d[b]);if(!this._isVariable(g)){this._markLoadingDependenciesFailed();this._markFinished();return}}if(this.config.runner){var p=false;try{this.addState("AWAITING_CALLBACK");p=this._runner=(new Date).valueOf();this.config.runner.call(this)}catch(A){}return p}else{this._runner=false;return this.start()}};a.prototype.lock=function(){this.locked=true;this._unlock=null};a.prototype.unlock=function(){this.locked=false;
if(this._unlock){this._unlock();this._unlock=false}};a.prototype.start=function(){if(!this.locked)return a.SUPER.prototype.run.call(this);else{this._unlock=function(){return a.SUPER.prototype.run.call(this)}.bind(this);return false}};a.prototype.startOnce=function(){if(!this.locked)return a.SUPER.prototype.runOnce.call(this);else{this._unlock=function(){return a.SUPER.prototype.runOnce.call(this)}.bind(this);return false}};a.prototype.getFilters=function(){return this.filters};a.prototype.runOnceIfFiltersPass=
function(){if(!this._runOnceIfFiltersPassTriggered&&!this.scriptExecuted){this._runOnceIfFiltersPassTriggered=(new Date).valueOf();this.runIfFiltersPass()}};a.prototype.runIfFiltersPass=function(){if(this.destroyed)throw"Tag is destroyed.";this.resolveAllDynamicData();this.runPostInitialisationSection();var d=this.filtersState(true);this.addState("FILTER_ACTIVE");if(!this.filtersRunTriggered)this.filtersRunTriggered=(new Date).valueOf();if(d===q.state.SESSION){this.addState("AWAITING_CALLBACK");this.awaitingCallback=
(new Date).valueOf()}else if(d===q.state.PASS){this.filtersPassed=(new Date).valueOf();try{this.onFiltersPassed()}catch(g){}this.run()}else if(d===q.state.FAIL){this._markFiltersFailed();this._markFinished()}else if(d>0){var b=this.config.filterTimeout;if(b<0||(new Date).valueOf()-this.filtersRunTriggered>b){if(!this._awaitingForFilterInformed){this._awaitingForFilterInformed=(new Date).valueOf();try{this.onFiltersDelayed()}catch(g){}}this._setTimeout(this.runIfFiltersPass.bind(this),d)}else{this._markFiltersFailed();
this._markFinished();this.filtersRunTimedOut=(new Date).valueOf()}}try{this.onFiltersCheck(d)}catch(g){}return d};a.prototype._markFiltersFailed=function(){this.addState("FILTERS_FAILED");this.filtersPassed=-(new Date).valueOf()};a.prototype.STATE={INITIAL:0,FILTER_ACTIVE:1,AWAITING_CALLBACK:2,FILTERS_FAILED:4,STARTED:8,LOADING_DEPENDENCIES:16,LOADED_DEPENDENCIES:32,LOADING_URL:64,LOADED_URL:128,EXECUTED:256,EXECUTED_WITH_ERRORS:512,FAILED_TO_LOAD_DEPENDENCIES:1024,FAILED_TO_LOAD_URL:2048,FAILED_TO_EXECUTE:4096,
TIMED_OUT:4096*2,UNEXPECTED_FAIL:4096*2*2,CANCELLED:4096*2*2*2};a.prototype.addState=function(d){a.SUPER.prototype.addState.call(this,d);try{a.onStateChange(this)}catch(A){}this.stateStack=[];var b=this.STATE;var g=this.state;var p=this.stateStack;if(g&b.INITIAL)p.push("Initial state.");if(g&b.FILTER_ACTIVE)p.push("Tag running with filters pass triggered.");if(g&b.FILTERS_FAILED)p.push("Filters failed to pass.");if(g&b.AWAITING_CALLBACK)p.push("Awaiting callback to run this tag. Not pooling.");if(g&
b.STARTED)p.push("Tag is initialised and loading has been started.");if(g&b.LOADING_DEPENDENCIES)p.push("Dependencies are being loaded.");if(g&b.LOADED_DEPENDENCIES)p.push("Dependencies loading process has been finished.");if(g&b.LOADING_URL)p.push("External URL is being loaded.");if(g&b.LOADED_URL)p.push("External URL has been loaded.");if(g&b.EXECUTED)p.push("Main script has been executed.");if(g&b.EXECUTED_WITH_ERRORS)p.push("Main script has been executed but errors occured.");if(g&b.FAILED_TO_LOAD_DEPENDENCIES)p.push("Dependencies has failed to load.");
if(g&b.FAILED_TO_LOAD_URL)p.push("URL location failed to load.");if(g&b.FAILED_TO_EXECUTE)p.push("Script failed to execute.");if(g&b.TIMED_OUT)p.push("Script timed out awaiting for dependencies.");if(g&b.UNEXPECTED_FAIL)p.push("Script occured UNEXPECTED exception and is failed.");if(g&b.CANCELLED)p.push("Tag has been cancelled.")};a.prototype.onTagInit=O;a.prototype.postInitialisationSection=O;a.onStateChange=O;a.prototype.onFiltersDelayed=O;a.prototype.onFiltersPassed=O;a.prototype.onFiltersCheck=
O;a.prototype.state=a.prototype.STATE.INITIAL;a.prototype.arePageVariablesLoaded=function(d){return u.allParameterVariablesReadyForTag(this,d)};a.prototype.getDependenciesToBeLoaded=function(d,b){var g=b||[];if(!this.arePageVariablesLoaded(d))g.push("page variables");return a.SUPER.prototype.getDependenciesToBeLoaded.call(this,d,g)};a.prototype.resolveAllDynamicData=function(){this.resolvePageVariables();this.resolveDependencies();this.resolveFilters()};a.prototype.resolveDependencies=function(){var d=
this.failedDependenciesToParse;if(d){this.failedDependenciesToParse=null;this.addDependenciesList(d,D.clientSpaceClasspath())}return this.dependencies};a.prototype.addClientVariablesMap=function(d){this.unresolvedClientVariablesMap=this._addVariablesMap(d,D.clientSpaceClasspath());return this.unresolvedClientVariablesMap};a.prototype.resolvePageVariables=function(){var d=this.unresolvedClientVariablesMap;if(d){this.unresolvedClientVariablesMap=null;this.addClientVariablesMap(d)}d=this.unresolvedVariablesMap;
if(d){this.unresolvedVariablesMap=null;this.addVariablesMap(d)}return this.getPageVariables()};a.prototype.addVariablesMap=function(d){this.unresolvedVariablesMap=this._addVariablesMap(d);return this.unresolvedVariablesMap};a.prototype._addVariablesMap=function(d,b){if(!d)return;var g={};var p=this.namedVariables;for(var A in d)if(d.hasOwnProperty(A)){var G=d[A];if(G instanceof v)p[A]=G;else if(typeof G==="string"){var I=G;if(b)G=b+"."+G;var K=r.getObjectUsingPath(G);if(K)if(K instanceof v)p[A]=K;
else p[A]=G;else g[A]=I}else;}return g};a.prototype.prepareURL=function(d){return this.replaceTokensWithValues(d)};a.prototype.prepareLocationObject=function(d){return this.replaceTokensWithValues(d)};a.prototype.prepareHTML=function(d){if(d)d=this.replaceTokensWithValues(d);return d};a.prototype._executeScript=function(){if(this.config&&this.config.script)if(typeof this.config.script==="function")this.script=this.config.script;else{var d=this.replaceTokensWithValues(String(this.config.script));this.script=
r.expressionToFunction(d).bind(this)}a.SUPER.prototype._executeScript.call(this)};a.prototype.replaceTokensWithValues=function(d){if(!d||d.indexOf("${")===-1)return d;var b=this.parameters;if(b)for(var g=0;g<b.length;g++){var p=b[g];var A=this.getVariableForParameter(p);if(A){var G=b[g].token;var I=this.valueForToken(G);d=A.replaceToken(G,d,I)}}return d};a.prototype.getParameter=function(d){var b=this.parameters;var g=null;if(b)for(var p=0;p<b.length;p++)if(b[p].name===d)g=b[p];return g};a.prototype.setParameterValueByTokenName=
function(d,b){var g=this.getParameterByTokenName(d);if(g!==null){g.variable={value:b};return true}return false};a.prototype.getParameterValue=function(d,b){var g=typeof d==="string"?this.getParameter(d):d;if(g){var p=this.getVariableForParameter(g);if(p)try{var A;if(b&&g.defaultValue!=="")A=r.gevalAndReturn(g.defaultValue).result;A=p.getRelativeValue(b,A);return A}catch(G){return undefined}}return undefined};a.prototype.filtersState=function(d){var b=d;return x.filtersState(this.filters,this.session,
this,b)};a.prototype.addFilter=function(d){r.addToArrayIfNotExist(this.filters,d)};a.prototype.addFilters=function(d){for(var b=0;b<d.length;b++)this.addFilter(d[b])};a.prototype.addClientFiltersList=function(d){this.unresolvedClientFilterClasspaths=this.addFiltersList(d,D.clientSpaceClasspath());return this.unresolvedClientFilterClasspaths};a.prototype.resolveFilters=function(){var d=this.unresolvedClientFilterClasspaths;if(d){this.unresolvedClientFilterClasspaths=null;this.addClientFiltersList(d)}return this.filters};
a.prototype.addFiltersList=function(d,b){var g=[];for(var p=0;p<d.length;p++)try{var A=d[p];var G=A;var I=null;if(typeof A==="string"){I=A;if(b)A=b+"."+A;A=r.getObjectUsingPath(A)}if(typeof A==="function"){var K=A;A=new K}if(!A);if(!A instanceof q)A=null;if(A)this.addFilter(A);else if(I)r.addToArrayIfNotExist(g,I)}catch(L){this.failedFilters=this.failedFilters||[];this.failedFilters.push(d[p])}return g};a.prototype.reset=function(){a.SUPER.prototype.reset.call(this);var d;this.filtersPassed=d;this.dedupePingSent=
false;this.oldDedupePingSent=false;this.pingSent=false;this.oldPingSent=false;this._runOnceIfFiltersPassTriggered=d;this.filtersRunTriggered=d;this._runner=d;this.reRunCounter=0;this.detachVariablesChangedListeners()};a.prototype.resetFilters=function(){for(var d=0;d<this.filters.length;d++)this.filters[d].reset()};a.prototype.getParameterByTokenName=function(d){var b=null;if(this.parameters){var g=this.parameters;for(var p=0;p<g.length;p++)if(g[p].token===d)b=g[p]}return b};a.prototype.removeFilter=
function(d){r.removeFromArray(this.filters,d)};var f=0;var z=[];var B={};var C={};a.register=function(d){var b=r.addToArrayIfNotExist(z,d);if(b===-1)d._tagIndex=z.length-1;else d._tagIndex=b;if(d.config.id){var g="Q"+d.config.id;C[g]=d;d.uniqueId=g}else C[d.CLASSPATH]=d};a.getById=function(d){return C[String(d)]};a.prototype.getById=a.getById;a.prototype.unregister=function(d){a.unregister(d||this)};a.prototype.destroy=function(){this.destroyed=true;this.cancel();a.unregister(this)};a.unregister=
function(d){var b=r.removeFromArray(z,d);d._tagIndex=-1};a.getTags=function(){return z};a.getAccessorsMap=function(){return B};a.prototype.getTags=function(){return z};a.prototype.getPageVariables=function(){var d=this.parameters;var b=[];if(d)for(var g=0;g<d.length;g++){var p=this.getVariableForParameter(d[g]);if(this._isVariable(p))r.addToArrayIfNotExist(b,p)}if(this.namedVariables)for(var A in this.namedVariables)r.addToArrayIfNotExist(b,y(this,A));return b};a.prototype.getAccessorString=function(){if(!this._accessorsMapKey){this._accessorsMapKey=
"_"+f++;B[this._accessorsMapKey]=this}return"qubit.opentag.BaseTag.getAccessorsMap()."+this._accessorsMapKey};a.prototype.getVariableForParameter=function(d){var b;var g=this.namedVariables;if(g&&g[d.token])b=y(this,d.token);if(!b)b=u.validateAndGetVariableForParameter(d);return b};a.prototype.printVariablesState=function(){var d=[];var b=u.getAllVariablesWithParameters(this);for(var g=0;g<b.length;g++){var p=b[g].parameter;var A=b[g].variable;var G;if(p&&p.token)G=this.valueForToken(p.token);else G=
A.getRelativeValue(true);var I={name:A.config.name,exists:A.exists(),token:p?p.token:null,value:G,variable:A};d.push(I)}return d};a.prototype._triggerOnLoadTimeout=function(){this.onLoadTimeout()};a.prototype.getId=function(){return this._getUniqueId()};a.prototype._getUniqueId=function(){if(this.config.id)return this.config.id;if(String(this.CLASSPATH).indexOf(D.STANDARD_CS_NS)===0)return this.CLASSPATH.substring(D.STANDARD_CS_NS.length+1);else return this.CLASSPATH+"#"+this.config.name};var n="qubit.tag.forceRunning_";
var m="qubit.tag.disableRunning_";var t="qubit.tag.forceAllToRun";a.prototype.cookieSaysToRunEvenIfDisabled=function(){var d=this._getUniqueId();var b=!!w.get(t);if(!b)b=!!w.get(n+d);return b};a.prototype.setCookieForcingTagToRun=function(){var d=this._getUniqueId();w.set(n+d,"true")};a.setCookieForcingTagsToRun=function(){w.set(t,"true")};a.prototype.setCookieToDisable=function(){var d=this._getUniqueId();w.set(m+d,"true")};a.prototype.rmCookieToDisable=function(){var d=this._getUniqueId();w.rm(m+
d)};a.prototype.disabledByCookie=function(){var d=this._getUniqueId();return!!w.get(m+d)};a.rmCookieForcingTagsToRun=function(){w.rm(t)};a.prototype.rmCookieForcingTagToRun=function(){var d=this._getUniqueId();w.rm(n+d)};a.rmAllDisablingCookies=function(){r.rmCookiesMatching(m)};a.rmAllCookiesForcingTagToRun=function(){r.rmCookiesMatching(n);a.rmCookieForcingTagsToRun()};a.prototype.onVariableChanged=function(d){this.attachVariablesChangedListeners(true);this.events.on("variableChanged",d)};a.prototype._handleVariableChange=
function(d){this.events.call("variableChanged",d);if(!this.isRunning&&this.config.reRunOnVariableChange){if(!isNaN(this.config.reRunLimit))if(this.config.reRunLimit<=this.reRunCounter)return;var b=this.reRunCounter+1;this.reset();this.reRunCounter=b;this.resetFilters();this.runIfFiltersPass()}};a.prototype.attachVariablesChangedListeners=function(d){var b=this.getPageVariables();var g=!!(this.config.reRunOnVariableChange||this.config.observeVariables||d);if(g)for(var p=0;p<b.length;p++){var A=b[p];
A.onValueChanged(this.handleVariableChange,g)}};a.prototype.detachVariablesChangedListeners=function(){var d=this.getPageVariables();for(var b=0;b<d.length;b++){var g=d[b];g.deatchOnValueChanged(this.handleVariableChange)}};a.prototype._markFinished=function(){a.SUPER.prototype._markFinished.call(this);this.attachVariablesChangedListeners()};a.prototype.prepareForRestart=function(d){if(this.config.restartable){a.SUPER.prototype.prepareForRestart.call(this,false);if(!d){var b=this.getFilters();for(var g=
0;g<b.length;g++)b[g].prepareForRestart()}}};a.prototype.restart=function(d){if(this.config.restartable){this.prepareForRestart(d);this.runIfFiltersPass()}};a.prototype.runPostInitialisationSection=function(){if(!this._postInitialisationRun){this._postInitialisationRun=true;if(this.postInitialisationSection)try{this.postInitialisationSection()}catch(d){}}}})();(function(){function a(e){r.setIfUnset(e,a.defaultConfig);if(this.singleton){var q=this.PACKAGE_NAME+"."+this.CLASS_NAME;var c=k.opentag.Utils.getObjectUsingPath(q,
E);if(c.__instance)return c.__instance;c.__instance=this}a.SUPER.call(this,e)}function y(e,q){var c=e.toString();c=c.replace(/\s*function\s*\([\w\s,_\d\$]*\)\s*\{/,"");c=c.substring(0,c.lastIndexOf("}"));c=c.replace(/(["']\s*\+\s*)\s*_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'\s*\)/g,'$1"${$2}"');c=c.replace(/\s*_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'\s*\)(\s*\+\s*["'])/g,'"${$1}"$2');c=c.replace(/(["']\s*\+\s*)\s*_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"\s*\)/g,'$1"${$2}"');c=c.replace(/\s*_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"\s*\)(\s*\+\s*["'])/g,
'"${$1}"$2');c=c.replace(/(\s*)_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'(\s*)\)/g,"$1${$2}$3");c=c.replace(/(\s*)_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"(\s*)\)/g,"$1${$2}$3");c=q.replaceTokensWithValues(c);r.geval(c)}var r=k.opentag.Utils;var x=k.Define;k.Define.clazz("qubit.opentag.LibraryTag",a,k.opentag.BaseTag);a.defaultConfig={vendor:null,imageUrl:null,description:"",async:false,isPrivate:false,upgradeable:true,html:"",parameters:[],prePostWindowScope:false};a.prototype.pre=function(){};
a.prototype.post=function(){};a.prototype.before=function(){a.SUPER.prototype.before.call(this);try{var e=this.config;if(e&&e.pre)if(typeof e.pre==="function")this.pre=e.pre;else{var q=this.replaceTokensWithValues(String(e.pre));this.pre=r.expressionToFunction(q).bind(this)}if(this.config.prePostWindowScope&&this.pre!==a.prototype.pre&&this.pre.toString)y(this.pre,this);else this.pre()}catch(c){return true}return false};a.prototype.after=function(e){a.SUPER.prototype.after.call(this,e);try{var q=
this.config;if(q&&q.post)if(typeof q.post==="function")this.post=q.post;else{var c=this.replaceTokensWithValues(String(q.post));this.post=r.expressionToFunction(c).bind(this)}if(this.config.prePostWindowScope&&this.post!==a.prototype.post&&this.post.toString)y(this.post,this);else this.post(e)}catch(u){}};a.define=function(e,q){e=e.replace(/^[\.]+/g,"").replace(/[\.]+$/g,"").replace(/\.+/g,".");e=k.Define.vendorsSpaceClasspath(e);var c={};if(q.getDefaultConfig)c=q.getDefaultConfig();var u=q.CONSTRUCTOR;
var v={};for(var w in q)if(w!=="config")v[w]=q[w];var D=function(B){B=B||{};B=r.overrideFromLeftToRight(c,B);var C=k.opentag.LibraryTag.call(this,B);if(u)u.call(this,B);if(C)return C};var f=k.opentag.Utils.defineWrappedClass(e,a,v,H,D);var z=x.STANDARD_VS_NS+".";if(e.indexOf(z)!==0)r.namespace(z+e,f);return f};a.getLibraryByClasspath=function(e){return r.getObjectUsingPath(e,k.Define.getVendorSpace())}})();(function(){function a(r){var x={url:null,html:"",locationPlaceHolder:"NOT_END",locationObject:"BODY",
async:true};y.setIfUnset(r,x);a.SUPER.call(this,r)}var y=k.opentag.Utils;k.Define.clazz("qubit.opentag.CustomTag",a,k.opentag.LibraryTag)})();(function(){var a=k.opentag.Utils;var y=k.opentag.filter.BaseFilter;var r=function(){};k.Define.clazz("qubit.opentag.Tags",r);r.getById=function(e){return k.opentag.BaseTag.getById(String(e))};r.getAllTagsByState=function(){return k.opentag.Container.getAllTagsByState(r.getTags())};r.findTagByName=function(e){var q=this.getTags();var c=[];for(var u=0;u<q.length;u++)if(q[u].config.name===
e)c.push(q[u]);return c};r.findTagByMatch=function(e){var q=this.getTags();var c=[];for(var u=0;u<q.length;u++)if(q[u].config.name.match(e))c.push(q[u]);return c};r.findTagContainers=function(e){var q=r.getContainers();var c=[];for(var u=0;u<q.length;u++){var v=q[u].tags;for(var w in v)if(v[w]===e){c.push(q[u]);break}}return c};r.getTags=function(){return k.opentag.BaseTag.getTags()};r.resetAllTags=function(e){var q=r.getTags();for(var c=0;c<q.length;c++){q[c].reset();if(!e)q[c].resetFilters()}};
r.getContainersPageVariables=function(){var e=r.getContainers();var q=[];for(var c=0;c<e.length;c++)q=q.concat(e.getPageVariables());return q};r.getAllPageVariables=function(){var e=r.getTags();var q=[];for(var c=0;c<e.length;c++)q=q.concat(e[c].getPageVariables());return q};r.cancelAll=function(){var e=r.getTags();for(var q=0;q<e.length;q++)e[q].cancel()};r.resetAll=function(e){var q=r.getTags();for(var c=0;c<q.length;c++){q[c].reset();if(!e)q[c].resetFilters()}};r.getPageVariableByName=function(e){var q=
r.getAllPageVariables();var c=[];for(var u=0;u<q.length;u++)if(q[u].config.name===e)c.push(q[u]);return c};r.getLoadTime=function(e){var q=e.beforeRun;var c=e.runIsFinished;if(isNaN(c))return{tag:e,loadTime:null};else return{tag:e,loadTime:c-q}};r.getLoadTimes=function(e){var q=[];if(e instanceof k.opentag.BaseTag){q.push([r.getLoadTime(e[v])]);return q}e=e||r.getTags();var c=e instanceof Array;if(c)for(var u=0;u<e.length;u++){if(e[u]instanceof k.opentag.BaseTag)q.push(r.getLoadTime(e[u]))}else for(var v in e)if(e[v]instanceof
k.opentag.BaseTag)q.push(r.getLoadTime(e[v]));return q};r.forceAllContainersAndTagsToRunIfDisabled=function(){k.opentag.Container.setCookieForDisabledContainersToRun();k.opentag.BaseTag.setCookieForcingTagsToRun()};r.rmAllContainersAndTagsForcingFlags=function(){k.opentag.Container.rmCookieForDisabledContainersToRun();k.opentag.BaseTag.rmAllCookiesForcingTagToRun()};r.getContainers=function(){return k.opentag.Container.getContainers()};r.findAllTagsByClassPath=function(e){var q=(new Date).valueOf();
var c=[];var u=[];try{u.push(k.opentag.CustomTag);u.push(k.opentag.LibraryTag)}catch(f){}var v=r.getTags();for(var w=0;w<v.length;w++){var D=v[w];if(a.indexInArray(u,D)<0&&D.PACKAGE_NAME.indexOf(e)===0)c.push(D)}return c};r.findAllTags=function(e,q){var c=k.opentag.BaseTag;var u;var v=[];var w=(new Date).valueOf();try{v.push(k.opentag.CustomTag);v.push(k.opentag.LibraryTag)}catch(D){}u=r.findAllInstances(e,c,v,q);return u};var x=function(e,q,c,u){var v=[];if(typeof e==="string")e=a.getObjectUsingPath(e);
if(e){var w={objectsOnly:true};if(u)w.maxDeep=true;var D=function(f,z,B,C){if(q(f)){for(var n=0;n<c.length;n++)if(c[n]===f)return true;a.addToArrayIfNotExist(v,f);return true}return false}.bind(this);a.traverse(e,D,w)}return v};r.findAllInstances=function(e,q,c,u){var v=function(w){return w instanceof q};return x(e,v,c,u)};r.findAllInheriting=function(e,q,c,u){var v=function(w){return w.prototype instanceof q};return x(e,v,c,u)};r.findAllFilters=function(e,q){var c=[];try{c.push(k.opentag.filter.Filter);
c.push(k.opentag.filter.URLFilter)}catch(u){}return r.findAllInheriting(e,y,c,q)}})();M.cookie={};M.cookie.PageView={};M.cookie.PageView.update=function(){var a;var y;y=function x(){return Math.floor(1+Math.random()*65536).toString(36).substring(1)};if(!window.__pageViewId__){a=(new Date).getTime().toString(36);window.__pageViewId__=a+y()+y()+y()}return window.__pageViewId__};M.html.PostData=function(a,y,r,x){var e;var q;var c;var u;var v;var w;var D;var f;var z;var B;B=2;z=5E3;D=false;f=function(){if(B>
0)setTimeout(function(){if(!D){B-=1;e()}},z)};q=navigator.userAgent.toLowerCase();c=q.indexOf("msie")!==-1;u=q.indexOf("msie 9")!==-1;v=q.indexOf("msie 7")!==-1||q.indexOf("msie 6")!==-1;w=("https:"===document.location.protocol?"https:":"http:")+a;r=r||"POST";e=function(){var C;try{C=null;try{C=new XMLHttpRequest}catch(n){}if(C&&!c)C.open(r,w,true);else if(typeof XDomainRequest!=="undefined"){C=new XDomainRequest;C.open(r,w)}else C=null;try{C.withCredentials=false}catch(n){}if(C.setRequestHeader)if(x)C.setRequestHeader("Content-Type",
x);else C.setRequestHeader("Content-Type","text/plain;charset\x3dUTF-8");C.onload=function(){D=true};C.onreadystatechange=function(){};C.ontimeout=function(){};C.onerror=function(){};C.onprogress=function(){};C.send(y)}catch(n){try{try{M.html.fileLoader.load(w)}catch(m){if(window.console&&window.console.log)window.console.log(n)}}catch(m){}}};if(v){M.html.fileLoader.load(w);return}else e()};(function(){function a(){}function y(x,e){var q={};q.clientId=""+e.clientId;q.containerId=""+x.getContainerId();
q.classpath=""+x.PACKAGE_NAME;q.opentagStats=true;if(x.sentPing)q.containerLoad=false;else{x.sentPing=(new Date).valueOf();q.containerLoad=true}q.isS3=false;q.pageViewId=M.cookie.PageView.update();q.tags=[];return q}var r="text/plain;charset\x3dUTF-8";k.Define.clazz("qubit.opentag.Ping",a);a.prototype.sendErrors=function(x,e){};a.getPingID=function(x){if(x.config.id)return x.config.id;var e=x.PACKAGE_NAME.lastIndexOf(".");if(e!==-1)return x.PACKAGE_NAME.substring(e+1);else return x.PACKAGE_NAME};
a.prototype.send=function(x,e){var q=x.config;var c=y(x,q);var u=c.tags;var v=q.pingServerUrl;for(var w=0;w<e.length;w++){var D=e[w].tag;var f=e[w].loadTime;if(f===null||isNaN(f))continue;var z={};var B=a.getPingID(D);if(!D.pingSent&&B&&f!==null)if(B!==undefined){z.tagId=B;z.loadTime=f;z.fired=true;u.push(z);D.pingSent=true}else;else if(D.pingSent);else if(f===null);}if(v&&(u.length>0||c.containerLoad)){var C=S.stringify(c);var n="//"+v;M.html.PostData(n,C,"POST",r)}else{if(!u.length);if(!v);}};a.prototype.sendDedupe=
function(x,e){var q=x.config;var c=y(x,q);var u=q.pingServerUrl;var v=c.tags;for(var w=0;w<e.length;w++){var D=e[w];var f=a.getPingID(D);var z={};if(f===undefined);else if(!D.dedupePingSent){z.tagId=""+f;z.fired=false;z.loadTime=0;v.push(z);D.dedupePingSent=true}}if(u&&(v.length>0||c.containerLoad)){var B=S.stringify(c);var C="//"+u;M.html.PostData(C,B,"POST",r)}else{if(!v.length);if(!u);}}})();M.cookie.SimpleSessionCounter={};M.cookie.SimpleSessionCounter._cookieName="_qst_s";M.cookie.SimpleSessionCounter._sessionCookie=
"_qsst_s";M.cookie.SimpleSessionCounter.update=function(a){var y;var r;var x;var e=30;y=k.Cookie.get(M.cookie.SimpleSessionCounter._cookieName);r=k.Cookie.get(M.cookie.SimpleSessionCounter._sessionCookie);if(!y)y=1;else{y=parseInt(y,10);if(!r||parseInt(r,10)<(new Date).getTime()-e*60*1E3)y+=1}k.Cookie.set(M.cookie.SimpleSessionCounter._cookieName,y,365,a);k.Cookie.set(M.cookie.SimpleSessionCounter._sessionCookie,(new Date).getTime().toString(),null,a);return y};(function(){function a(v){if(v)if(v.alphabet){this.alphabet=
v.alphabet;this.dict={};for(var w=0;w<this.alphabet.length;w++)this.dict[this.alphabet[w]]=w}else{this.alphabet=r;this.dict=q}}function y(v,w){for(var D in w)if(v===w[D])return D;return null}var r=[];var x=Math.pow(2,8);for(var e=0;e<x;e++)r.push(String.fromCharCode(e));var q={};for(var c=0;c<r.length;c++)q[r[c]]=c;var u=k.Define;u.clazz("qubit.compression.LZW",a);a.prototype.encode=function(v){var w=this.alphabet.length;var D={};var f=[];var z=0;var B=v.charAt(z++);var C;for(var n=this.dict;!!(C=
v.charAt(z++));){var m=B+C;if(n.hasOwnProperty(m)||D.hasOwnProperty(m))B=m;else{var t=n.hasOwnProperty(B)?n[B]:D[B];if(t===undefined)throw"Dictionary base is to small for those contents: "+B;f.push(t);D[m]=w++;B=C}}if(B!=="")f.push(D.hasOwnProperty(B)?D[B]:n[B]);return f};a.prototype.decode=function(v){var w=this.dict;var D=this.alphabet.length;var f;var z={};var B=y(v[0],w);var C=B;var n=[B];for(var m=1;m<v.length;m++){var t=v[m];f=y(t,w);if(f===null){if(z.hasOwnProperty(t))f=z[t];if(f===null)f=
C+B}n.push(f);B=f.charAt(0);z[D++]=C+B;C=f}return n.join("")}})();(function(){function a(n){var m=0;var t=n<0;if(t)n=-n;var d="";var b=true;do{m=n%z;if(b){d=w[f[m]];b=false}else d=f[m]+d;n=(n-m)/z}while(n>0);if(t)return"-"+d;return d}function y(n){var m=0;var t=0;var d=true;for(var b=0;b<n.length;b++){var g=n.charAt(n.length-1-b);if(d){d=false;g=x.charAt(u[g])}m+=q[g]*Math.pow(z,t++)}return m}function r(n){}var x="abcdefghijklmnopqrstuvwxyz"+"0123456789"+"'%./:\x3c\x3e?[";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ"+
"*!-+()@{|}"+'"]^_`~$\x26#';var q={};for(var c=0;c<x.length;c++)q[x.charAt(c)]=c;var u={};for(var v=0;v<x.length;v++)u[e.charAt(v)]=v;var w={};for(var D=0;D<x.length;D++)w[x.charAt(D)]=e.charAt(D);var f=x.split("");var z=f.length;var B=new k.compression.LZW({});var C=k.Define;C.clazz("qubit.compression.Compressor",r);r.prototype.compress=function(n,m){var t=(m||B).encode(n);var d=[];for(var b=0;b<t.length;b++)d.push(String.fromCharCode(t[b]));return d.join("")};r.prototype.compressAnsi=function(n,
m){var t=(m||B).encode(n);var d=[];for(var b=0;b<t.length;b++){var g=a(t[b]);d.push(g)}return d.join("")};r.prototype.decompressAnsi=function(n,m){var t=[];var d="";for(var b=0;b<n.length;b++){var g=n.charAt(b);if(u.hasOwnProperty(g)){var p=d+g;d="";p=y(p);t.push(p)}else d+=g}return(m||B).decode(t)};r.prototype.decompress=function(n,m){var t=[];for(var d=0;d<n.length;d++)t.push(n.charCodeAt(d));return(m||B).decode(t)}})();(function(){function a(t){var d=[];for(var b=0;b<t.length;b++){var g=q(t[b][0]);
d.push([new RegExp(g,"g"),"*"+t[b][1]])}return d}function y(t,d){for(var b=0;b<d.length;b++)if(d[b][1]===t)return d[b][0];return null}function r(t){this._regexDefs=f;this._defs=D;if(t)if(t.definitions){this._regexDefs=a(t.definitions);this._defs=t.definitions}}function x(t,d){var b=[];for(var g=0;g<t.length;g++){var p=true;if(d)p=t.charCodeAt(g)<=d;var A=w.cookieAlphabetMap.hasOwnProperty(t.charAt(g));if(p&&!A)b.push("*"+t.charCodeAt(g)+".");else b.push(t.charAt(g))}return b.join("")}function e(t,
d){d=d.replace(/@/g,"@@");var b=[];var g=0;for(var p=0;g<t.length;g++){var A=t[g][0];var G=new RegExp(q(A),"g");var I=d.replace(G,"@"+p+"-");if(I!==d){b.push(t[g][0]);p++;d=I}}return[d,b]}function q(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function c(t){var d={};var b="";for(var g=0;g<t.length;g++){var p=t.charAt(g);if(!B[p]){if(isNaN(d[b]))d[b]=t.split(b).length-1;b=""}else b+=p}var A=[];for(var G in d)if(d.hasOwnProperty(G)){var I=d[G];if(I>=m&&G.length>=n)A.push([G,I])}A=A.sort(function(K,
L){if(K[0].length===L[0].length)return 0;if(L[0].length>K[0].length)return 1;else return-1});return A}function u(t,d){if(!d||d.length===0||!t)return t;var b="";var g=false;var p=false;var A="";for(var G=0;G<t.length;G++){var I=t.charAt(G);if(I==="@"||g||p)if(g||p){g=false;if(I==="@")b+="@";else if(!isNaN(+("-"+I))){p=true;A=A+I}else if(p){if(d&&I==="-"&&d[+A])b+=d[+A];else b+="@"+A+I;A="";p=false}else b+="@"+I}else g=true;else b+=I}if(A)b+="@"+A;if(g)b+="@";return b}var v=k.Define;var w=k.Cookie;
var D=[['","referrer":[{"url":"http://',"1-"],['","referrer":[{"url":"https://',"2-"],[',"referrer":[{"url":"http://',"3-"],[',"referrer":[{"url":"https://',"4-"],[',"sessionStartTime":',"5-"],["www.google.co.uk","6-"],["www.google.","7-"],['"sessionStartTime":',"8-"],['"landing":"',"9-"],["http%3A%2F%2Fwww","10-"],['"landing":',"L"],['"time":',"A"],['"pageViews":',"P"],['"sessionCount":',"B"],['"referrer":',"R"],['"url":"http://www.',"J"],['"url":"https://www.',"M"],['"url":"',"I"],['"url":',"U"],
["http://www.","W"],["https://www.","V"],["%2Fen%2Ftsuk%2F","K"],['"sessionLandingPage":',"F"],["http%3A%2F%2F","D"],["http://","H"],["https://","X"],['""',"O"],['",',"Y"],['":{}}',"z"],["\x3c","S"],["\x3e","G"],["[","Z"],["]","E"],["{","a"],["}","b"],["(","c"],[")","d"],["!","e"],["#","f"],["$","g"],["!","q"],["'","i"],[":","j"],["?","k"],["^","x"],["`","m"],["|","n"],["~","o"],["%","v"],[",","C"]];var f=a(D);v.clazz("qubit.opentag.compression.Encoder",r);r.prototype.encode=function d(b,g){var p=
b.replace(/\*/g,"**");var A=c(p);for(var G=0;G<this._regexDefs.length;G++){var I=this._regexDefs[G];p=p.replace(I[0],I[1])}p=p.replace(/;/g,"*-");p=p.replace(/&/g,"*.");p=p.replace(/\\/g,"*/");p=p.replace(/=/g,"*+");p=p.replace(/\n/g,"*N");p=p.replace(/ /g,"*_");p=p.replace(/\t/g,"*T");p=p.replace(/"/g,"*Q");var K=c(p);K.concat(A);var L=e(K,p);var N=L[1];var P=N.length>0;if(P)p=L[0];if(!g)p=x(p);else p=x(p,g);if(P)return"Y"+N.join("*")+"@"+p;else return"N"+p};var z="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+_.";
var B={};for(var C=0;C<z.length;C++)B[z.charAt(C)]=true;var n=4;var m=2;r.prototype.decode=function(d){var b=null;if(d.charAt(0)==="N")d=d.substring(1);else if(d.charAt(0)==="Y"){var g=d.indexOf("@");if(g>=0){b=d.substring(1,g);b=b.split("*");d=d.substring(g+1);d=u(d,b)}}var p="";var A=false;var G=false;var I="";for(var K=0;K<d.length;K++){var L=d.charAt(K);if(L==="*"||A||G)if(A||G){A=false;if(!isNaN(+("-"+L))){I=I+L;G=true}else if(G){if(L===".")p+=String.fromCharCode(+I);else if(L==="-"&&y(I+"-",
this._defs))p+=y(I+"-",this._defs);else p+="*"+I+L;I="";G=false}else if(L==="*")p+="*";else if(L==="-")p+=";";else if(L==="/")p+="\\";else if(L===".")p+="\x26";else if(L==="+")p+="\x3d";else if(L==="N")p+="\n";else if(L==="_")p+=" ";else if(L==="T")p+="\t";else if(L==="Q")p+='"';else if(y(L,this._defs)!==null){var N=y(L,this._defs);p+=N}else p+="*"+L}else A=true;else p+=L}if(I)p+="*"+I;if(A)p+="*";return p}})();(function(){function a(e){this.testBinary=false;this.binSupported=x;if(e){this.compressor=
new k.compression.Compressor;this.encoder=new k.opentag.compression.Encoder({})}}var y=k.Define;var r=k.Cookie;var x=false;y.clazz("qubit.opentag.compression.CookieCompressor",a);a.prototype.compress=function(e,q){if(typeof e!=="string"||e==="")return e;var c=this.encoder.encode(e);var u;if(this.binSupported||this.testBinary){var v=this.compressor.compress(c);u='"B'+this.encoder.encode(v,128)+'"';r.set("__qtag_test_bin__",u,undefined,undefined,true);var w=r.get("__qtag_test_bin__",true);r.rm("__qtag_test_bin__");
if(w&&w!==u)u=null}var D;var f=this.encoder.encode(this.compressor.compressAnsi(c));if(!q&&c.length<=f.length)D="E"+c;else D="C"+f;if(u&&u.length<D.length)return u;else return D};a.prototype.decompress=function(e){if(typeof e!=="string"||e==="")return e;if(e.charAt(0)==='"')e=e.substring(1,e.length-1);var q=e.charAt(0);e=e.substring(1);switch(q){case "E":return this.encoder.decode(e);case "C":var c=this.compressor.decompressAnsi(this.encoder.decode(e));return this.encoder.decode(c);case "B":var u=
this.compressor.decompress(this.encoder.decode(e));return this.encoder.decode(u);default:throw"This code is not supported! Code: "+q;}}})();(function(){var a=k.Cookie;var y=k.opentag.Utils;var r=function(){};k.Define.clazz("qubit.opentag.Session",r);var x=new k.opentag.compression.CookieCompressor({});r.readCompressedCookie=function(e){var q=a.get(e,true);return x.decompress(q)};r.setupSession=function(e){var q=e.config;var c;var u;var v;var w;var D;var f;c={};c.sessionCount=M.cookie.SimpleSessionCounter.update(q.cookieDomain);
D="qtag_"+e.getContainerId();var z="x_qtag_"+e.getContainerId();v=a.get(D);var B=!!v;if(v===null){v=a.get(z,true);v=x.decompress(v)}if(v)try{v=S.parse(v)}catch(n){v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}}}else v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}};f=(new Date).getTime();if(c.sessionCount!==parseInt(v.sc,10)){v.sessionStartTime=f;v.sc=c.sessionCount;v.sessionCount+=1;v.referrer.push({url:r.getReferrer(),
landing:y.getUrl().substring(0,300),time:f});v.sessionLandingPage=y.getUrl().substring(0,300)}else if(r.isReferrerDifferent())if(!r.referrerIsSameAsPrevious(v.referrer,f,30*60*1E3)){v.referrer.push({url:r.getReferrer(),landing:y.getUrl().substring(0,300),time:f});v.sessionLandingPage=y.getUrl().substring(0,300);v.sessionStartTime=f;v.sessionCount+=1}c.sessionCount=v.sessionCount;c.sessionStartTime=v.sessionStartTime;c.pageStartTime=f;v.pageViews+=1;c.pageViews=v.pageViews;c.sessionLandingPage=v.sessionLandingPage;
c.referrer=v.referrer;if(c.referrer.length>5)c.referrer.splice(2,c.referrer.length-5);w=S.stringify(v);for(u=0;x.compress(w).length>q.maxCookieLength&&u<5;){if(v.referrer.length>=3)v.referrer.splice(2,1);else if(v.referrer.length===2)v.referrer=[v.referrer[0]];else if(v.referrer.length===1)v.referrer=[];w=S.stringify(v);u+=1}c.referrer=v.referrer;if(B)a.rm(D);var C=x.compress(w);a.rm(z);if(q.maxCookieLength>0)a.set(z,C,365,q.cookieDomain,true);c.setVariable=function(n,m,t){var d=!!t?t:0;v.__v[n]=
[m,d];var b=x.compress(S.stringify(v));if(q.maxCookieLength>0)a.set(z,b,365,q.cookieDomain,true);else a.rm(z)};c.getCookie=function(n,m){var t=a.get(n,true);if(t&&(m||n.indexOf("x_")===0))try{t=x.decompress(t)}catch(d){}else if(t!==null)t=a.decode(t);return t};c.getVariable=function(n){var m;var t;var d;m=v.__v[n];if(m){t=m[1];if(t===0||t>(new Date).getTime())return m[0]}return null};c.on=function(n,m,t){if(m.attachEvent)m.attachEvent("on"+n,t);else if(m.addEventListener)m.addEventListener(n,t,false)};
c.getTagCookie=function(){return r.readCompressedCookie(z)};r.lastSession=c;return c};r.referrerIsSameAsPrevious=function(e,q,c){var u;var v;var w;if(e.length>0){u=r.getReferrer();v=y.getUrl().substring(0,300);w=e[e.length-1];return w.url===u&&w.landing===v&&w.time+c>q}return false};r.isReferrerDifferent=function(){var e;var q;var c;c=r.getReferrer();e=c.indexOf("://");if(e===-1)return true;e+=3;try{if(c.substring(e).indexOf(r.getDomain())!==0)return true;return false}catch(u){return true}};r.getReferrer=
function(){if(document.referrer)return document.referrer.substring(0,300);return"direct"};r.getDomain=function(){return document.location.host}})();(function(){function a(){}var y=k.opentag.LibraryTag;var r=k.Define;a.library=function(){return y.define.apply(y,arguments)};a.libraryRef=function(){return y.getLibraryByClasspath.apply(y.getLibraryByClasspath,arguments)};r.namespace("qubit.Quick",a)})();(function(){function a(n){this.runQueue=[];this.tags=[];this.config={cookieDomain:"",maxCookieLength:1E3,
gzip:true,delayDocWrite:false,clientId:"",name:"",tellLoadTimesProbability:null,pingServerUrl:null,trackSession:null,disabled:false,containerId:"",scanTags:false,noPings:false,restartable:true};this.ignoreTagsState=false;if(n){this.setConfig(n);if(!n.name)this.config.name="Cont-"+D++;a.register(this);if(a.NO_PINGS)this.config.noPings=true;this.ping=new k.opentag.Ping(this.config);this._sendPingsTrigger=this.sendPings.bind(this);if(n.init)try{n.init.call(this,n)}catch(t){}var m=this;this._tagLoadedHandler=
function(t){if(m._containerAlreadySentPings){m.sendPingsNotTooOften();if(t.success);}}}this.events=new k.Events({});return this}function y(n,m,t,d){if(n[t]){d[t]=d[t]+1||1;t+="("+d[t]+")"}n[t]=m}var r=k.opentag.Utils;var x=k.opentag.filter.BaseFilter;var e=k.opentag.filter.Filter;var q=k.opentag.BaseTag;var c=k.opentag.Timed;var u=k.opentag.Tags;var v=k.opentag.Session;var w=k.Cookie;var D=1;try{window.opentag_consentGiven=function(){a.consentIsGiven=true;var n=a.getContainers();for(var m=0;m<n.length;m++)try{n[m].run()}catch(t){}}.bind(this)}catch(n){}k.Define.clazz("qubit.opentag.Container",
a);var f=[];var z="restart";a.prototype.EVENT_TYPES={RESTART_EVENT:z};a.register=function(n){r.addToArrayIfNotExist(f,n)};a.prototype.isTellingLoadTimes=function(){var n=this.config.tellLoadTimesProbability;if(n===null)n=0;return n>Math.random()};a.prototype.destroy=function(n){this.destroyed=true;this.unregister();for(var m=0;m<this.tags.length;m++){var t=this.tags[m];if(t.owningContainer===this){t.owningContainer=null;if(n&&t instanceof q)t.destroy()}}this.tags=[]};a.destroyAll=function(n){var m=
a.getContainers();for(var t=0;t<m.length;t++)m[t].destroy(n)};a.findContainersByName=function(n){var m=a.getContainers();var t=[];for(var d=0;d<m.length;d++)if(m[d].config.name===n)t.push(m[d]);return t};a.getById=function(n){var m=a.getContainers();for(var t=0;t<m.length;t++)if(m[t].getContainerId()===n)return m[t];return null};a.prototype.unregister=function(n){a.unregister(this,n)};a.unregister=function(n,m){r.addToArrayIfNotExist(f,n);var t=r.removeFromArray(f,n);if(m){for(var d=0;d<n.tags.length;d++){var b=
n.tags[d];if(b.owningContainer===n){b.owningContainer=null;if(b instanceof q)b.unregister()}}n.tags=[]}if(!t||t.length===0);};a.prototype.hasConsent=function(){return w.get("qubitconsent")==="Accepted"};a.prototype.register=function(n){a.register(n||this)};a.getContainers=function(){return f};a.prototype.getContainers=function(){return a.getContainers()};a.prototype.onTagRegistered=function(n){};a.prototype.registerTag=function(n){if(n.owningContainer!==null)return false;else{this.tags.push(n);n.owningContainer=
this;n.onAfter(this._tagLoadedHandler);try{this.onTagRegistered(n)}catch(m){}}return true};a.prototype.unregisterTag=function(n){if(n.owningContainer===this)n.owningContainer=null;for(var m=0;m<this.tags.length;)if(this.tags[m]===n)this.tags.splice(m,1);else m++};a.prototype.registerTags=function(n){for(var m=0;m<n.length;m++)this.registerTag(n[m])};a.prototype.setConfig=function(n){for(var m in n)this.config[m]=n[m]};a.prototype.run=function(){this.runTags({command:"runOnceIfFiltersPass"})};a.prototype.runWithoutFilters=
function(){this.runTags({command:"run"})};a.prototype.containerScriptLoadedSynchronously=function(){var n;var m;var t;var d;var b;d=document.getElementsByTagName("script");for(n=0,m=d.length;n<m;n+=1){t=d[n];b=t.getAttribute("src");if(!!b&&b.indexOf(""+this.config.clientId+"-"+this.getContainerId()+".js")>0)return t.getAttribute("async")===null&&(t.getAttribute("defer")===false||t.getAttribute("defer")===""||t.getAttribute("defer")===null)}return true};a.prototype.prepareSessionIfNeeded=function(){var n=
this.config.trackSession;if(n!==true&&n!==false)for(var m=0;m<this.tags.length;m++){var t=this.tags[m];t.resolveAllDynamicData();var d=t.getFilters();for(var b=0;b<d.length;b++){var g=d[b];if(g instanceof e&&g.isSession()){this.trackSession=true;break}}if(this.trackSession)break}else this.trackSession=n;if(a.TRACK_SESSION)this.trackSession=true;if(this.trackSession)this.session=v.setupSession(this);if(this.session);};a.runtimeCounter=a.runtimeCounter||1;a.prototype.runTags=function(n,m){if(this.destroyed)throw"Container has been destroyed.";
if(!m)if(a.LOCKED||r.global().QUBIT_CONTAINERS_LOCKED)return;if(this.onBeforeRun)try{this.onBeforeRun()}catch(I){}var t=!this.containerScriptLoadedSynchronously();var d="runIfFiltersPass";if(n&&n.command)d=n.command;this.runningStarted=(new Date).valueOf();if(this.config.scanTags)if(!this._scanned){this.scanForTags();this._scanned=(new Date).valueOf()}this.prepareSessionIfNeeded();var b=this.getTagsInOrder();var g="___otctnmk"+a.runtimeCounter++;for(var p=0;p<b.length;p++)try{var A=b[p];if(this.includedToRun(A))this._checkAndRun(A,
d,t,g)}catch(I){}c.setTimeout(function(){this.sendPingsNotTooOften()}.bind(this),3100);this.waitForAllTagsToFinish();for(var G=0;G<b.length;G++){b[G]._runtimeMarkers[g]=undefined;delete b[G]._runtimeMarkers[g]}};a.prototype.getTagsInOrder=function(){var n=[];for(var m=0;m<this.tags.length;m++){var t=this.tags[m];var d=t.config.priority;if(+d>0){var b=0;for(var g=0;g<n.length;g++){var p=n[g];if(p){var A=+p.config.priority;if(A>0&&A>d)b++;else break}}n.splice(b,0,t)}else n.push(t)}return n};a.prototype._checkAndRun=
function(n,m,t,d){if(!n._runtimeMarkers[d])n._runtimeMarkers[d]=true;else return;var b=n.resolveDependencies();if(b.length>0)for(var g=0;g<b.length;g++)this._checkAndRun(b[g],m,t,d);this._tagRunner(n,m,t)};a.prototype._tagRunner=function(n,m,t){try{if(this.includedToRun(n)){if(t)n.forceAsynchronous=true;if(this.config.delayDocWrite)n.delayDocWrite=true;n.session=n.session||this.session;n[m]()}}catch(d){}};a.prototype.getContainerId=function(){if(this.config.containerId)return this.config.containerId;
else{if(this._pkgName)return this._pkgName;var n=this.PACKAGE_NAME.split(".");n=n[n.length-1];this._pkgName=n;return n}};a.prototype.includedToRun=function(n){if(!n)return false;var m=n.config;if(m.inactive)return false;if(m.disabled)if(!n.cookieSaysToRunEvenIfDisabled())return false;if(n.disabledByCookie())return false;var t=a.consentIsGiven||!m.needsConsent||this.hasConsent();var d=n.state===q.prototype.STATE.INITIAL;return this.ignoreTagsState||t&&d};a.prototype.scanForTags=function(n,m){if(n)this.tags=
[];var t;if(m&&typeof m==="object")t=this.findAllTags(m);else t=this.findAllTagsByClassPath();this.registerTags(t);return t};a.prototype.findAllTags=function(n,m){n=n||this.tagsPackageName||this.PACKAGE_NAME;return u.findAllTags(n,m)};a.prototype.findAllTagsByClassPath=function(n){n=n||this.PACKAGE_NAME;return u.findAllTagsByClassPath(n)};a.prototype.findAllFilters=function(n,m){n=n||this.tagsPackageName||this.PACKAGE_NAME;return u.findAllFilters(n,m)};a.prototype.waitForAllTagsToFinish=function(){if(this._waitForAllTagsToFinishWaiting)return;
if(!this._lastWaited)this._lastWaited=(new Date).valueOf();var n=(new Date).valueOf()-this._lastWaited>15*1E3;var m=this.allTagsFinished()||n;if(!this._showFinishedOnce&&m){this._lastWaited=null;if(n);this._showFinishedOnce=true;this.runningFinished=(new Date).valueOf();this._containerAlreadySentPings=(new Date).valueOf();this.sendPingsNotTooOften();if(this.onTagsInitiallyRun)this.onTagsInitiallyRun()}else if(!m){this._waitForAllTagsToFinishWaiting=true;this._showFinishedOnce=false;c.setTimeout(function(){this._waitForAllTagsToFinishWaiting=
false;this.waitForAllTagsToFinish()}.bind(this),100)}else;};a.prototype.onTagsInitiallyRun=O;a.prototype.resetAllTags=function(n){for(var m=0;m<this.tags.length;m++){this.tags[m].reset();if(!n)this.tags[m].resetFilters()}};a.prototype._prepareTagsToRestart=function(n){for(var m=0;m<this.tags.length;m++)this.tags[m].prepareForRestart(n)};a.prototype.reset=function(n,m){this.runningFinished=undefined;this._waitForAllTagsToFinishWaiting=undefined;this.runningStarted=undefined;this._showFinishedOnce=
undefined;if(!n)this.resetAllTags(m)};a.prototype.onRestart=function(n){this.events.on(z,n)};a.prototype.restart=function(n,m){if(this.config.restartable){this.events.call(z,this);this.reset(true,true);if(!n)this._prepareTagsToRestart(m);this.run()}};a.restartAll=function(n,m){var t=a.getContainers();for(var d=0;d<t.length;d++)try{t[d].restart(n,m)}catch(b){log.ERROR("Restart failed for container "+t[d].config.name,b)}};a.resetAll=function(n,m){var t=a.getContainers();for(var d=0;d<t.length;d++)try{t[d].reset(n,
m)}catch(b){log.ERROR("Reset failed for container "+t[d].config.name,b)}};a.prototype.sendPingsNotTooOften=function(){this._sndLck=this._sndLck||{};c.runIfNotScheduled(this._sendPingsTrigger,2E3,this._sndLck)};a.prototype.sendPings=function(){if(this.config.noPings)return;var n;if(this.isTellingLoadTimes()){var m=this.getAllTagsByState();var t=[];if(m.run)t=u.getLoadTimes(m.run);this.lastPingsSentTime=(new Date).valueOf();this.ping.send(this,t);t=u.getLoadTimes();var d=[];for(n=0;n<t.length;n++){var b=
t[n].tag;if(b.config.dedupe&&b.sendDedupePing)d.push(b)}if(d.length>0){this.lastDedupePingsSentTime=(new Date).valueOf();this.ping.sendDedupe(this,d)}if(m.other){t=u.getLoadTimes(m.other);var g=[];for(n=0;n<t.length;n++)g.push(t[n]);if(g.length>0)this.ping.send(this,g)}if(m.awaiting){t=u.getLoadTimes(m.awaiting);var p=[];for(n=0;n<t.length;n++)p.push(t[n]);if(p.length>0)this.ping.send(this,p)}}else this.ping.send(this,[])};a.prototype.getAllTagsByState=function(){return a.getAllTagsByState(this.tags)};
a.getAllTagsByState=function(n){var m=null;var t=null;var d=null;var b=null;var g=null;var p=null;var A={};var G=q.prototype.STATE.EXECUTED_WITH_ERRORS;for(var I=0;I<n.length;I++){var K=n[I];if(K instanceof q){var L=K.config.name;if(K.scriptExecuted>0){m=m||{};y(m,K,L,A)}else if(K.locked){p=p||{};y(p,K,L,A)}else if(K.scriptExecuted<0||K.state>=G){b=b||{};y(b,K,L)}else if(K.filtersState()===x.state.SESSION||K.filtersState()>0){d=d||{};y(d,K,L,A)}else if(K.config.needsConsent){g=g||{};y(g,K,L,A)}else{t=
t||{};y(t,K,L,A)}}}return{run:m,failed:b,awaiting:d,consent:g,locked:p,other:t}};a.prototype.allTagsFinished=function(){for(var n=0;n<this.tags.length;n++){var m=this.tags[n];if(m instanceof k.opentag.BaseTag){var t=m.filtersState();if(!m.config.disabled){var d=m.filtersState()<0&&!m.locked;var b=!(m.finished()||m.config.runner&&!m.isRunning);if(d&&b){var g=t!==x.state.SESSION;var p=+m.awaitingDependencies>0;if(g&&!p)return false}}}}return true};a.prototype.getPageVariables=function(){var n=[];for(var m=
0;m<this.tags.length;m++){var t=this.tags[m].getPageVariables();for(var d=0;d<t.length;d++)r.addToArrayIfNotExist(n,t[d])}return n};a.getPageVariableByName=function(n){var m=this.getAllPageVariables();var t=[];for(var d=0;d<m.length;d++)if(m[d].config.name===n)t.push(m[d]);return t};var B="qubit.opentag.disableContainerRunning_";var C="qubit.opentag.forceContainerRunning";a.prototype._getCookieNameForDisabling=function(){return B+this.getContainerId()+this.config.name};a.prototype.disabledByCookie=
function(){return!!w.get(this._getCookieNameForDisabling())};a.prototype.setCookieToDisable=function(){w.set(this._getCookieNameForDisabling(),"true")};a.prototype.rmCookieToDisable=function(){w.rm(this._getCookieNameForDisabling())};a.rmAllDisablingCookies=function(){r.rmCookiesMatching(B)};a.setCookieForDisabledContainersToRun=function(){w.set(C,"true")};a.rmCookieForDisabledContainersToRun=function(){w.rm(C)}})();(function(){function a(){}function y(){var w=false;if(u.get("opentag_debug")||document.location.href.indexOf("opentag_debug")>=
0)w=true;return w}function r(){var w=false;if(u.get("opentag_debug_tool")||document.location.href.indexOf("opentag_debug_tool")>=0)w=true;return w}function x(){try{var w=H.TAGSDK_MAIN_DISABLED_FUNCTION;if(w&&w())return true}catch(D){}if(document.location.href.indexOf("opentag_disabled\x3dtrue")>=0)return true;return false}function e(w,D,f){if(f&&(w[D]===undefined||w[D]===""||w[D]===null))w[D]=f}function q(w){var D=w.PACKAGE_NAME.split(".");D=D[D.length-1];var f=v.getParentObject(w.PACKAGE_NAME);f[D]=
null;delete f[D]}function c(w){var D=v.getParentObject(w.PACKAGE_NAME);var f=D.ClientConfig;if(f&&f.clientId)return f.clientId;else{var z=w.PACKAGE_NAME.split(".");return z[z.length-2].substring(1)}}var u=k.Cookie;var v=k.opentag.Utils;k.opentag.Log.setLevelFromCookie();a.run=function(){var w=false;if(x())return;var D=false;var f=r();var z=f||y();if(!D&&z){if(!k.DEBUG_MODE)H.TAGSDK_NS_OVERRIDE=true;else H.TAGSDK_NS_OVERRIDE=false;w=true}if(k.DEBUG_MODE)H.TAGSDK_NS_OVERRIDE=false;try{M.html.UVListener.init()}catch(B){}a.runAllContainers(w)};
a.runAllContainers=function(w){try{var D=k.opentag.Container.getContainers();for(var f=0;f<D.length;f++){var z=D[f];var B=z.config;if(!z.runningStarted&&!z.configuredInMain){B.scanTags=true;var C=v.getParentObject(z.PACKAGE_NAME).ClientConfig;if(C)e(z.config,"clientId",C.id);var n=v.getParentObject(z.PACKAGE_NAME).SystemDefaults;if(n){e(B,"pingServerUrl",n.pingServerUrl);e(B,"tellLoadTimesProbability",n.tellLoadTimesProbability)}z.configuredInMain=true;if(w){z.destroy(true);q(z);a.loadDebugVersion(z)}else if(!H.QUBIT_OPENTAG_STOP_MAIN_EXECUTION)z.run();
else(function(){var m=k.opentag.RUN_STOPPED_EXECUTON;k.opentag.RUN_STOPPED_EXECUTON=function(){try{if(m)m()}finally{z.run()}}})(z)}}}catch(m){}};a.loadDebugVersion=function(w){var D=document.createElement("script");var f;var z=w.config.scriptURL;var B=c(w);var C=w.getContainerId();if(z){f=z;var n="-debug.js".length;if(f.lastIndexOf("-debug.js")!==f.length-n){f=f.substring(0,f.length-".js".length);f+="-debug.js"}}var m="//d3c3cq33003psk.cloudfront.net/opentag-"+B+"-"+C+"-debug.js";if(f&&m!==f)D.src=
f;else D.src="//s3-eu-west-1.amazonaws.com/opentag/opentag-"+B+"-"+C+"-debug.js";document.getElementsByTagName("head")[0].appendChild(D)};k.Define.namespace("qubit.opentag.Main",a)})()})()})();(function(){})();
(function(){var F=qubit.opentag.Container;var h=new F({"maxCookieLength":3E3,"cookieDomain":"","pingServerUrl":"","delayDocWrite":false,"name":"ALFA ROMEO IT","gzip":true,"disabled":false,"tellLoadTimesProbability":1,"containerId":559307});var E="alfaromeoit.Container";qubit.Define.clientNamespace(E,h)})();(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Type"});var E="alfaromeoit.variables.Type";qubit.Define.clientNamespace(E,h);h.value="visit344"})();
(function(){var F=qubit.opentag.pagevariable.Expression;var h=new F({"name":"RandomNumber"});var E="alfaromeoit.variables.RandomNumber";qubit.Define.clientNamespace(E,h);h.value="Math.random(10000000)"})();(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Double Click Id(2)"});var E="alfaromeoit.variables.DoubleClickId2";qubit.Define.clientNamespace(E,h);h.value="3383076"})();
(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Double Click Id"});var E="alfaromeoit.variables.DoubleClickId";qubit.Define.clientNamespace(E,h);h.value="4199"})();(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Double Click Id(3)"});var E="alfaromeoit.variables.DoubleClickId3";qubit.Define.clientNamespace(E,h);h.value="3383076"})();
(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Double Click Id(1)"});var E="alfaromeoit.variables.DoubleClickId1";qubit.Define.clientNamespace(E,h);h.value="3383076"})();(function(){var F=qubit.opentag.pagevariable.BaseVariable;var h=new F({"name":"Category"});var E="alfaromeoit.variables.Category";qubit.Define.clientNamespace(E,h);h.value="landi232"})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener - Fired at every push","priority":1});var E="alfaromeoit.filters.UVChangeListenerFiredAtEveryPush";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener_Aprile2016","priority":1});var E="alfaromeoit.filters.UVChangeListener_Aprile2016";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||
0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(11)","priority":1});var E="alfaromeoit.filters.UVChangeListener11";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="downloadbrochure"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Direct Traffic Script","priority":1});var E="alfaromeoit.filters.DirectTrafficScript";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){J()};h.customScript=function(H){var J=document.referrer.replace(/^https?\:\/\/(www\.)?/img,"").replace(/\/.*$/img,"");var k=window.location.href.replace(/^https?\:\/\/(www\.)?/img,"").replace(/\/.*$/img,"");var X=k.indexOf("dpromo.alfaromeo.")!==0&&k.indexOf("mpromo.alfaromeo.")!==
0&&k.indexOf("fca-forms.cvtr.co")!==0&&k.indexOf("fca.cvtr.io")!==0&&k!=="dpromo.alfaromeo"&&k!=="mpromo.alfaromeo"&&k!=="fca-forms.cvtr.co"&&k!=="fca.cvtr.io"&&(document.referrer===""&&window.universal_variable.page.category.toLowerCase()==="homepage"||J!=="bs.serving-sys.com"&&J!==k&&J!=="google.it"&&window.universal_variable.page.category.toLowerCase()==="homepage");console.log("isDirect ? "+X);return X};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/#/alfa-experience/superbike","pattern":"^http://www\\.alfaromeo\\.it/it/\\#/alfa\\-experience/superbike","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItAlfaExperienceSuperbike";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(7)","priority":1});var E="alfaromeoit.filters.UVChangeListener7";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="testdrive"&&window.universal_variable.page.subcategory.toLowerCase()==="start")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/#/modelli/mito","pattern":"^http\\:\\/\\/www\\.alfaromeo\\.it\\/it\\/(\\#\\/)?modelli\\/mito","patternType":"REGULAR_EXPRESSION","priority":2});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItModelliMito";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"modelli_mito_sbk_landindpage","pattern":"^http\\:\\/\\/www\\.alfaromeo\\.it\\/it\\/\\#\\/modelli\\/mito\\/versionipack\\/mito\\-sbk\\/?(\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.Modelli_mito_sbk_landindpage";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener - Fired at every push(1)","priority":1});var E="alfaromeoit.filters.UVChangeListenerFiredAtEveryPush1";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.pushedOnce)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(3)","priority":1});var E="alfaromeoit.filters.UVChangeListener3";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="contactrequest"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("promo.alfaromeo.it/")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"xpromo.alfaromeo.it","priority":1});var E="alfaromeoit.filters.XpromoAlfaromeoIt";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){J()};h.customScript=function(H){return window.location.host.indexOf("promo.alfaromeo.it")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UV Change Listener(16)","priority":1});var E="alfaromeoit.filters.UVChangeListener16";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="specialproject"&&window.universal_variable.page.subcategory.toLowerCase()==="start")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Default filter: Match all","pattern":"","patternType":"ALL_URLS","priority":1});var E="alfaromeoit.filters.DefaultFilterMatchAll";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UV Change Listener(17)","priority":1});var E="alfaromeoit.filters.UVChangeListener17";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="specialproject"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://m.alfaromeo.it/it/#/alfa-experience/superbike","pattern":"^http\\:\\/\\/m\\.alfaromeo\\.it\\/it\\/\\#\\/alfa\\-experience\\/superbike","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpMAlfaromeoItItAlfaExperienceSuperbike";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"name":"testused"});var E="alfaromeoit.filters.Testused";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=function(H){return document.location.href.indexOf&&document.location.href.indexOf("usedcars")===-1};h.lexicalPattern='{"rows":[{"operators":[],"starters":[],"variables":[{"type":"currentUrl","comparator":"4","value":"usedcars"}]}],"operators":[]}'})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/#/modelli/giulietta","pattern":"^http\\:\\/\\/www\\.alfaromeo\\.it\\/it\\/(\\#\\/)?modelli\\/giulietta","patternType":"REGULAR_EXPRESSION","priority":2});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItModelliGiulietta";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/home#/alfa-experience/superbike","pattern":"^http\\:\\/\\/www\\.alfaromeo\\.it\\/it\\/home\\#\\/alfa\\-experience\\/superbike(\\/?)(\\?|$)","patternType":"REGULAR_EXPRESSION","priority":3});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItHomeAlfaExperienceSuperbike";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"preventivo start","priority":1});var E="alfaromeoit.filters.PreventivoStart";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){function k(){if(window.universal_variable&&window.universal_variable.page.category==="RequestForQuotation"){if(window.universal_variable&&window.universal_variable.page.subcategory==="Start")J()}else setTimeout(k,100)}k()};h.customScript=function(H){return true};h.lexicalPattern=
""})();(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it","pattern":"^https?\\:\\/\\/(www\\.)?alfaromeo\\.it((\\/it)?(\\/#)?(\\/home)?\\/?)?(\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpWwwAlfaromeoIt";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener - Fired at every push_Aprile2016","priority":1});var E="alfaromeoit.filters.UVChangeListenerFiredAtEveryPush_Aprile2016";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.pushedOnce)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(9)","priority":1});var E="alfaromeoit.filters.UVChangeListener9";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&(window.universal_variable.page.category.toLowerCase()==="promo"&&window.universal_variable.page.subcategory.toLowerCase()==="start"||false))J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":false,"name":"Exclude Mobile","pattern":"http://m.alfaromeo.it","patternType":"CONTAINS","priority":1});var E="alfaromeoit.filters.ExcludeMobile";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(6)","priority":1});var E="alfaromeoit.filters.UVChangeListener6";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="homepage")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/sponsorships/superbike","pattern":"http://www.alfaromeo.it/it/sponsorships/superbike","patternType":"CONTAINS","priority":1});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItSponsorshipsSuperbike";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"url alfa promo","pattern":"^http?\\:\\/\\/(www\\.)?d?promo\\.alfaromeo\\.it\\/gammalfa(\\/?\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.UrlAlfaPromo";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(5)","priority":1});var E="alfaromeoit.filters.UVChangeListener5";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="modelpage")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://m.alfaromeo.it/it/#/modelli/giulietta","pattern":"^http\\:\\/\\/m\\.alfaromeo\\.it\\/it\\/\\#\\/modelli\\/giulietta","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpMAlfaromeoItItModelliGiulietta";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UV CHANGE LISTENER CVTR(1)","priority":1});var E="alfaromeoit.filters.UVCHANGELISTENERCVTR1";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="testdrive"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("forms.cvtr")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(15)","priority":1});var E="alfaromeoit.filters.UVChangeListener15";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||
0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UV CHANGE LISTENER CVTR","priority":1});var E="alfaromeoit.filters.UVCHANGELISTENERCVTR";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="landingpage")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("forms.cvtr")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(1)","priority":2});var E="alfaromeoit.filters.UVChangeListener1";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&(window.universal_variable.page.category.toLowerCase()==="promo"&&window.universal_variable.page.subcategory.toLowerCase()==="start")||window.universal_variable.page.category.toLowerCase()==="landingpage")J(true)};if(document.addEventListener)document.addEventListener("UVChange",
k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("promo.alfaromeo.it/")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/#/alfa-experience/superbike(1)","pattern":"^http\\:\\/\\/www\\.alfaromeo\\.it\\/it\\/\\#\\/alfa\\-experience\\/superbike","patternType":"REGULAR_EXPRESSION","priority":2});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItAlfaExperienceSuperbike1";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Sponsorship 2","pattern":"^http?\\:\\/\\/(m\\.)?alfaromeo\\.it\\/it\\-it\\/sponsorships\\/racing\\-emotion(\\/?\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.Sponsorship2";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://www.alfaromeo.it/it/#/modelli/mito/versionipack/mito-sbk","pattern":"^http://www\\.alfaromeo\\.it/it/\\#/modelli/mito/versionipack/mito\\-sbk","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpWwwAlfaromeoItItModelliMitoVersionipackMitoSbk";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(13)","priority":1});var E="alfaromeoit.filters.UVChangeListener13";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||
0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.toLowerCase().indexOf("://carconfigurator.alfaromeo.com/")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://alfaromeo.liqid.it/landingpages/mito-wsc_1_8/form-testdrive.php","priority":2});var E="alfaromeoit.filters.HttpAlfaromeoLiqidItLandingpagesMitoWsc_1_8FormTestdrivePhp";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){function k(){if(window.universal_variable&&window.universal_variable.page.category==="TestDrive"){if(window.universal_variable&&window.universal_variable.page.subcategory==="Start")J()}else setTimeout(k,
100)}k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(4)","priority":2});var E="alfaromeoit.filters.UVChangeListener4";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="testdrive"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("alfaromeo.it/")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://m.alfaromeo.it/it/#/modelli/mito","pattern":"^http://m\\.alfaromeo\\.it/it/(\\#/)?modelli/mito","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpMAlfaromeoItItModelliMito";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://m.alfaromeo.it/it/modelli/mito/versionipack/mito-sbk","pattern":"^http://m\\.alfaromeo\\.it/it/modelli/mito/versionipack/mito\\-sbk\\/?(\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpMAlfaromeoItItModelliMitoVersionipackMitoSbk";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"URL wearegiulietta.com/de","pattern":"wearegiulietta.com/de","patternType":"CONTAINS","priority":1});var E="alfaromeoit.filters.URLWearegiuliettaComDe";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(12)","priority":1});var E="alfaromeoit.filters.UVChangeListener12";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="dealerlocator")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=
document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(14)","priority":1});var E="alfaromeoit.filters.UVChangeListener14";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable)J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||
0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(2)","priority":1});var E="alfaromeoit.filters.UVChangeListener2";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="quotationrequest"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return window.location.href.indexOf("promo.alfaromeo.it/")>-1};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Uv Change Listener(18)","priority":1});var E="alfaromeoit.filters.UvChangeListener18";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="testdrive"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener","priority":1});var E="alfaromeoit.filters.UVChangeListener";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="quotationrequest"&&window.universal_variable.page.subcategory.toLowerCase()==="start")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UVChange Listener(10)","priority":1});var E="alfaromeoit.filters.UVChangeListener10";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="quotationrequest"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);
else if(document.attachEvent)if(document.createEventObject&&document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Default filter: Match all(1)","pattern":"^http?\\:\\/\\/(m\\.)?alfaromeo\\.it\\/it\\-it\\/sponsorships\\/superbike(\\/?\\?.*)?$","patternType":"REGULAR_EXPRESSION","priority":2});var E="alfaromeoit.filters.DefaultFilterMatchAll1";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"http://m.alfaromeo.it/it/home","pattern":"^http\\:\\/\\/m\\.alfaromeo\\.it\\/it\\/home","patternType":"REGULAR_EXPRESSION","priority":1});var E="alfaromeoit.filters.HttpMAlfaromeoItItHome";qubit.Define.clientNamespace(E,h);h.customStarter=null;h.customScript=null;h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"Preventivo End","priority":1});var E="alfaromeoit.filters.PreventivoEnd";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){function k(){if(window.universal_variable&&window.universal_variable.page.category==="RequestForQuotation"){if(window.universal_variable&&window.universal_variable.page.subcategory==="End"){J();if(window.console)console.log("Qubit: tracked End step")}}else setTimeout(k,100)}$(window.history).bind("pushState",
function(X){J(true)});k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"UV Change Listener(8)","priority":1});var E="alfaromeoit.filters.UVChangeListener8";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){var k=function(){if(window.universal_variable&&window.universal_variable.page.category.toLowerCase()==="testdrive"&&window.universal_variable.page.subcategory.toLowerCase()==="end")J(true)};if(document.addEventListener)document.addEventListener("UVChange",k,false);else if(document.attachEvent)if(document.createEventObject&&
document.fireEvent){document.documentElement.UVChange=document.documentElement.UVChange||0;document.documentElement.attachEvent("onpropertychange",function(){if(typeof document.documentElement.UVChange!=="undefined"&&document.documentElement.UVChange===1)k()})}else document.attachEvent("UVChange",k);k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.filter.Filter;var h=new F({"include":true,"name":"End","priority":2});var E="alfaromeoit.filters.End";qubit.Define.clientNamespace(E,h);h.customStarter=function(H,J){function k(){if(window.universal_variable&&window.universal_variable.page.category==="TestDrive"){if(window.universal_variable&&window.universal_variable.page.subcategory==="End"){J();if(window.console)console.log("Qubit: tracked End step")}}else setTimeout(k,100)}$(window).bind("pageView",function(X){J(true)});
k()};h.customScript=function(H){return true};h.lexicalPattern=""})();
(function(){var F=qubit.opentag.CustomTag;var h=new F({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"s3-eu-west-1.amazonaws.com/vivakiitalytraillogs/pmit/general/all/qubit/class.UVMappingRule.js","timeout":5E3,"async":true,"usesDocumentWrite":false,"prePostWindowScope":true,"name":"UVMapping","disabled":false,"locked":false,"locationObject":"HEAD"});var E="alfaromeoit.tags.uvmapping.Tag";qubit.Define.clientNamespace(E,h);h.htmlContent="";h.addClientFiltersList(["alfaromeoit.filters.UVChangeListenerFiredAtEveryPush_Aprile2016"]);
h.addClientVariablesMap({});h.addParameters([]);h.genericDependencies=[];h.addClientDependenciesList(["alfaromeoit.tags.d0universalvariabledefinition.Tag"]);h.pre=function(){};h.script=function(){};h.post=function(){window.universal_variable.log(UVMappingRules())}})();
(function(){var F=qubit.opentag.CustomTag;var h=new F({"async":true,"usesDocumentWrite":false,"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"name":"0. Universal Variable Definition","active":true,"disabled":false,"locked":false,"locationObject":"HEAD","url":"","timeout":5E3});var E="alfaromeoit.tags.d0universalvariabledefinition.Tag";qubit.Define.clientNamespace(E,h);h.htmlContent="\x3cscript type\x3d\"text/javascript\"\x3e\n// JavaScript Documents\n\n// Maxus Universal Variable manager for Container Tag\n\n// Created and Modified by MaxusGlobal/GroupM S.r.l. [2014-09-16 17:38:37]\n// for more info:\thttp://tracking.maxusglobal.it/documentation/universal-variable/how-to.txt\n// last changes:\thttp://tracking.maxusglobal.it/documentation/universal-variable/change.log\n\n/* REQUIREMENT 1: window.hasOwnProperty */\nif (!window.hasOwnProperty) {\n\twindow.hasOwnProperty \x3d function (property) {\n\t\treturn Object.prototype.hasOwnProperty.call(this, property);\t\t\t\n\t};\n}\t\n\n/* REQUIREMENT 2: Object.deepExtend */\nif (!Object.deepExtend) {\n\tObject.deepExtend \x3d function (destination, source, addUnknownProperties) {\n\t\taddUnknownProperties \x3d true\x3d\x3d\x3daddUnknownProperties ? true : false;\n\t\t\n\t\tfor (var property in source) {\n\t\t\tif (addUnknownProperties || destination.hasOwnProperty(property)) {\n\t\t\t\tif ((source[property] \x26\x26 source[property].Constructor \x26\x26 source[property].Constructor \x3d\x3d\x3d Object) || typeof source[property]\x3d\x3d'object') {\n\t\t\t\t\tdestination[property] \x3d destination[property] || {};\n\t\t\t\t\targuments.callee(destination[property], source[property], addUnknownProperties);\n\t\t\t\t} else {\n\t\t\t\t\tdestination[property] \x3d source[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t};\n}\n\n/* REQUIREMENT 3: document.querySelectorAll */\nif (!document.querySelectorAll) {\n\tdocument.querySelectorAll \x3d function(selector) {\n\t\tvar doc \x3d document,\n\t\thead \x3d doc.documentElement.firstChild,\n\t\tstyleTag \x3d doc.createElement('STYLE');\n\t\thead.appendChild(styleTag);\n\t\tdoc.__qsaels \x3d [];\n\t\t \n\t\tstyleTag.styleSheet.cssText \x3d selector + \"{x:expression(document.__qsaels.push(this))}\";\n\t\twindow.scrollBy(0, 0);\n\t\t \n\t\treturn doc.__qsaels;\n\t};\n}\n\n/* REQUIREMENT 4: document.querySelector */\nif (!document.querySelector) {\n\tdocument.querySelector \x3d function(selector) {\n\t\tvar res \x3d document.querySelectorAll(selector);\t\t\n\t\treturn res \x26\x26 res.length ? res[0] : null;\n\t};\n}\n\n/*\ndocument.addEventListener('beforeload', function(event) {\n    var target \x3d event.target;\n    if (target.nodeName.toUpperCase() !\x3d\x3d 'SCRIPT') return;\n    var dispatchEvent \x3d function(name, bubbles, cancelable) {\n        var evt \x3d new CustomEvent(name, {\n            bubbles: bubbles,\n            cancelable: cancelable\n        });\n        target.dispatchEvent(evt);\n        if (evt.defaultPrevented) {\n            event.preventDefault();\n        }\n    };\n    var onload \x3d function() {\n        cleanup();\n        dispatchEvent('afterscriptexecute', true, false);\n    };\n    var cleanup \x3d function() {\n        target.removeEventListener('load', onload, true);\n        target.removeEventListener('error', cleanup, true);\n    }\n    target.addEventListener('error', cleanup, true);\n    target.addEventListener('load', onload, true);\n\n    dispatchEvent('beforescriptexecute', true, true);\n}, true);\n\nwindow.addEventListener('afterscriptexecute', function() {\n    if (window.universal_variable \x26\x26 !window.universal_variable.pushedOnce \x26\x26 window.digitalData) {\n\t\twindow.universal_variable.push();\n\t}\t\t\n});\n*/\n\n/*\nif (!Array.prototype.forEach) {\n\tArray.prototype.forEach \x3d function(fun *//*, thisArg *//*) {\n\t\t\"use strict\";\n\t\n\tif (this \x3d\x3d\x3d void 0 || this \x3d\x3d\x3d null)\n\t\tthrow new TypeError();\n\t\n\tvar t \x3d Object(this);\n\tvar len \x3d t.length \x3e\x3e\x3e 0;\n\tif (typeof fun !\x3d\x3d \"function\")\n\t\tthrow new TypeError();\n\t\n\tvar thisArg \x3d arguments.length \x3e\x3d 2 ? arguments[1] : void 0;\n\tfor (var i \x3d 0; i \x3c len; i++) {\n\t\tif (i in t)\n\t\t\tfun.call(thisArg, t[i], i, t);\n\t\t}\n\t};\n}*/\n\nwindow.maxuslog \x3d window.maxuslog || true;\n//window.universal_variable \x3d null;\n\nwindow.universal_variable \x3d (function(current_universal_variable) {\t\n\tvar errorEndpoint \x3d '//tracking.maxusglobal.it/js/error-logger.js?pushed_value\x3d';\n\tvar this_constructor \x3d arguments.callee;\n\n  var getParameterByName \x3d function(name) {\n    name \x3d name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex \x3d new RegExp(\"[\\\\?\x26]\" + name + \"\x3d([^\x26#]*)\"), results \x3d regex.exec(location.search);\n    return results \x3d\x3d null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  };\n  \n var setCookie \x3d function (c_name,value,exdays)\n    {\n      var exdate\x3dnew Date();\n      exdate.setDate(exdate.getDate() + exdays);\n      var c_value\x3descape(value) + \n        ((exdays\x3d\x3d\x3dnull) ? \"\" : (\"; expires\x3d\"+exdate.toUTCString()));\n\n\n      document.cookie\x3dc_name + \"\x3d\" + c_value;\n    };\n\n    var getCookie \x3d function (c_name)\n    {\n     var i,x,y,ARRcookies\x3ddocument.cookie.split(\";\");\n     for (i\x3d0;i\x3cARRcookies.length;i++)\n     {\n      x\x3dARRcookies[i].substr(0,ARRcookies[i].indexOf(\"\x3d\"));\n      y\x3dARRcookies[i].substr(ARRcookies[i].indexOf(\"\x3d\")+1);\n      x\x3dx.replace(/^\\s+|\\s+$/g,\"\");\n      if (x\x3d\x3dc_name)\n      {\n       return unescape(y);\n      }\n     }\n\t return null;\n    };\n  \n  var guid \x3d (function() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000)\n                 .toString(16)\n                 .substring(1);\n    }\n    return function() {    \n      var cookie_val \x3d /*getCookie('TrackingMaxusUUID') || */(s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4());\n      /*setCookie('TrackingMaxusUUID', cookie_val, 30);*/\n      return cookie_val;\n    };\n  })();\n  \n  var uuid \x3d function() {\n\t  if (typeof window.localStorage!\x3d\x3d'undefined') {\n\t\treturn window.localStorage.getItem('UVUniqueUserID') ? window.localStorage.getItem('UVUniqueUserID') : (function() {\n\t\t\tvar id \x3d guid();\n\t\t\ttry {\n\t\t\t\twindow.localStorage.setItem('UVUniqueUserID', id);\n\t\t\t} catch(e) {\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\treturn id;\n\t\t})();  \n\t  } else {\n\t\t  return guid();\n\t  }\t  \n  };\n  \n  var sid \x3d function() {\n\t  if (typeof window.sessionStorage!\x3d\x3d'undefined') {\n\t\treturn window.sessionStorage.getItem('UVSessionID') ? window.sessionStorage.getItem('UVSessionID') : (function() {\n\t\t\tvar id \x3d guid();\n\t\t\ttry {\n\t\t\t\twindow.sessionStorage.setItem('UVSessionID', id);\n\t\t\t} catch(e) {\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\treturn id;\n\t\t})();  \n\t  } else {\n\t\t  return guid();\n\t  }\t  \n  };\n  \n  var clearID \x3d function(type) {\n\t  if (typeof type\x3d\x3d\x3d'undefined' || typeof type\x3d\x3d\x3dnull) {\n\t\tif (window.sessionStorage) {\n\t\t\twindow.sessionStorage.removeItem('UVSessionID');\n\t\t}\n\t\tif (window.localStorage) {\n\t\t\twindow.localStorage.removeItem('UVUniqueUserID');\n\t\t}\n\t  } else if (type\x3d\x3d\x3d'sid') {\n\t\tif (window.sessionStorage) {\n\t\t\twindow.sessionStorage.removeItem('UVSessionID');\n\t\t}\n\t  } else if (type\x3d\x3d\x3d'uuid') {\n\t\tif (window.localStorage) {\n\t\t\twindow.localStorage.removeItem('UVUniqueUserID');\n\t\t}\n\t  }\t  \n\t  return true;\n  };\n\n\tvar UV \x3d {\n\t\tversion: 1.4,\n        enablePush: '',\n        pushedOnce: false,\n\t\tgenerator: '',\n\t\tuuid: uuid(),\n\t\tsid: sid(),\n\t\tdigitaldatamirror: typeof window.digitalData!\x3d\x3d'undefined' ? window.digitalData : null,\n\t\tpage: {\t\t\t\t\t\t\t// Owner: Webagency, mandatory\n\t\t\turl: document.location.href,\t\t\t\t// Automatic\n\t\t\treferral: document.referrer,\t\t\t\t// Automatic\n\t\t\tdevice: window.location.hostname.indexOf('m.')\x3d\x3d0 ? 'mobile' : 'desktop',\n\t\t\ttitle: '',\n\t\t\ttype: '',\n\t\t\tlanguage: '',\n\t\t\tcalltoaction:'',\n\t\t\tcalltoactionPhase:'',\n      urid: '', //per test uk sul passaggio del parametro urid\n\t\t\tcategory: '',\t\t\t\t\t\t// Owner: Webagency, mandatory: HomePage, Promo, SpecialProject, DealerLocator, TestDrive, CarConfigurator, QuotationRequest, ContactRequest, DownloadBrochure\n\t\t\tsubcategory: '',\t\t\t\t\t// Owner: Webagency, mandatory [example: Start, Step1/2/3, End]\n\t\t\trandom_number: Math.floor(Math.random() * 10000000000000)\n\t\t},\n\t\tproduct: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tmarket: '',\t\t\t\t\t\t// Automatic\n\t\t\tmanufacturer: '',\t\t\t\t\t// Automatic\n\t\t\tname: '',\t\t\t\t\t\t// Owner: Webagency, mandatory [example: model]\n\t\t\tid: '',\t\t\t\t\t\t\t// Owner: Webagency, optional [internal code]\n\t\t\tcategory: '',\t\t\t\t\t\t// Owner: Webagency, optional, collection of models\t\n\t\t  vehicletrim:'',\n\t\t  \n\t\t},  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\ttransaction: {\t\t\t\t\t\t// Owner: Webagency, mandatory whenever there is a transaction\n\t\t\torder_id: '',\t\t\t\t\t// Owner: Webagency, optional\n\t\t\ttype: '',\t\t\t\t\t\t// [lead | permission]\n\t\t\tdelivery: {\n\t\t\t\tpostcode: ''\t\t\t\t\t\t// Owner: Webagency, optional if field exist for example in a form\n\t\t\t}\n\t\t}\n\t};\n\t\n\tUV.push \x3d function(obj) {\n      \t\n        _DOMReady(window, function() {\n\t\t\n\t\t\t/*UV.log('Start UV Push:', {\n\t\t\t\tdata: obj,\n\t\t\t\tcaller: (arguments.callee.caller || 'Direct call').toString(),\n\t\t\t\ttimestamp: (new Date()).toString()\n\t\t\t});*/\n\t\t\t\n\t\t\tif (typeof window.digitalData!\x3d\x3d'undefined'){\n\t\t\t\t_readDTM(obj);\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\tvar _self \x3d arguments.callee;\n\t\t\t\t\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.universal_variable.push(obj);\n\t\t\t\t}, 500);\n\t\t\t\treturn false;\n\t\t\t\t*/\n\t\t\t\t\n\t\t\t\t_push(obj);\n\t\t\t}\n\t\t  \n\t\t\tif (typeof window.universal_variable.enablePush!\x3d\x3d'undefined' \x26\x26 window.universal_variable.enablePush\x3d\x3d\x3dfalse) {\n\t\t\t\t//UV.log('UV.enablePush \x3d false \x3d\x3e Push interrupted.');\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\twindow.universal_variable.pushedOnce \x3d UV.pushedOnce \x3d true;\n\t\t\t}\n\t\t\n\t\t\tvar eventName \x3d 'UVChange';\n\t\t\tvar target \x3d document;\n\t\t\tvar event;\n\t\t\t\n\t\t\tif (document.addEventListener) {\n\t\t\t\t// browsers\n\t\t\t\tif (!document.createEvent \x26\x26 window.Event) {\n\t\t\t\t\t// valid strict JS\n\t\t\t\t\tevent \x3d new Event(eventName);\n\t\t\t\t} else if (!document.createEvent \x26\x26 window.CustomEvent) {\n\t\t\t\t\t// valid strict JS\n\t\t\t\t\tevent \x3d new CustomEvent(eventName, {}); \n\t\t\t\t} else if (document.createEvent) {\n\t\t\t\t\t// old browsers\n\t\t\t\t\tevent \x3d document.createEvent('HTMLEvents');\n\t\t\t\t\tevent.initEvent(eventName, true, true);\n\t\t\t\t}\n\t\t\t\ttarget.dispatchEvent(event);\n\t\t\t\n\t\t\t} else if (document.createEventObject \x26\x26 document.fireEvent) {\n\t\t\t\t// IE 8 or less\n\t\t\t\tdocument.documentElement.UVChange \x3d 0;\n\t\t\t\tdocument.documentElement.UVChange \x3d 1;      \n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t// Commented because unuseful: IE8 doesn't admit events' custom name\n\t\t\t\tevent \x3d document.createEventObject();\n\t\t\t\ttarget.fireEvent(eventName, event);\n\t\t\t\t*/\n\t\t\t}\n\t\t\t\n\t\t\tvar tempObj \x3d {};\n\t\t\tObject.deepExtend(tempObj, window.universal_variable, true);\n\n\t\t//\tUV.log('End UV Push - Current UV status: ', tempObj);\n\t\t\n        });\n        \n\t\treturn this;\n\t};\n\t\n\tvar _findInString \x3d function(needle, string) {\n\t\treturn string \x26\x26 needle ? string.replace(/[\\-\\_]+/img, '').toLowerCase().indexOf(needle)\x3e-1 : false;\n\t};\n\t\n\tvar _strToObjProp \x3d function(string) {\n\t\tvar props \x3d string.split('.');\n\t\tvar found \x3d false;\n\t\tvar context \x3d eval(props[0]) || window[props[0]];\n\t\t\n\t\tfor (var i\x3d1; i\x3cprops.length; i++) {\n\t\t\tif (typeof context!\x3d\x3d'undefined' \x26\x26 typeof context!\x3d\x3dnull \x26\x26 context.hasOwnProperty(props[i])) {\n\t\t\t\tcontext \x3d context[props[i]];\n\t\t\t\tfound \x3d true;\n\t\t\t} else {\n\t\t\t\tfound \x3d false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn found ? context : '';\n\t};\n\t\n\tvar _propertiesMap \x3d function(needles_array, string) {\n\t\tfor (var i in needles_array) {\n\t\t\tif (string.toLowerCase().indexOf(i)\x3e-1) {\n\t\t\t\treturn needles_array[i];\n\t\t\t}\n\t\t}\n\t\treturn string;\n\t};\n\n    var _readDTM \x3d function(obj) {\n\t//\tUV.log('Maxus Container Tag is reading digitalData object');\n\t\t\n\t\tvar ctas_array \x3d [];\n\t\tctas_array['appointment'] \x3d 'contactrequest';\n      //\tctas_array['contact-us'] \x3d 'contactrequest';\n\t\tctas_array['information-request'] \x3d 'contactrequest';\n\t\tctas_array['kmi'] \x3d 'contactrequest';\n        ctas_array['lead:brochure-request'] \x3d 'postbrochure';\n\t\tctas_array['offer-form'] \x3d 'quotationrequest';\n\t\tctas_array['permission:brochure-download'] \x3d 'downloadbrochure';\n        ctas_array['permission:brochure-request'] \x3d 'downloadbrochure';\n\t\tctas_array['prebooking'] \x3d 'quotationrequest';\n\t\tctas_array['quote-request'] \x3d 'quotationrequest';\n\t\tctas_array['lead:quote-request'] \x3d 'quotationrequest';\n\t\tctas_array['sign-up-for-updates'] \x3d 'newsletter';\n\t\tctas_array['test-drive-request'] \x3d 'testdrive';\n\t\tctas_array['lead:test-drive-request'] \x3d 'testdrive';\n      ctas_array['registration'] \x3d 'registration';\n      ctas_array['lead:test-drive-request-proactive-popin'] \x3d 'netminingtest-drive';\n      ctas_array['lead:quote-request-proactive-popin'] \x3d 'netminingquotation-request';\n      ctas_array['permission:kmi-proactive-popin'] \x3d 'netminingcontact-request';\n     ctas_array['permission:sign-up-for-updates-proactive-popin'] \x3d 'netminingnewsletter';\nctas_array['permission:brochure-request-proactive-popin'] \x3d 'netminingbrochure-request';\nctas_array['lead:coupon-proactive-popin'] \x3d 'netminingcoupon-request';\n\n\t\n\t\t/* OLD UV VARS */\n\t\tvar page_category \x3d '';\n\t\tvar page_subcategory \x3d '';\n\t\t\n\t\t/* digitalData VARS */\n\t\tvar _old_digitalData_pagetype \x3d _strToObjProp('digitalData.page.category.pageType');\n\t\tvar brand \x3d _strToObjProp('digitalData.page.pageInfo.vehicleBrand').replace(/[\\-\\_\\s]+/img, '');\n\t\tvar carconfigurator_or_dealerlocator \x3d _strToObjProp('digitalData.page.category.primaryCategory');\n\t\tvar countrycode \x3d _strToObjProp('digitalData.page.pageInfo.countryCode');\n\t\tvar device \x3d _strToObjProp('digitalData.page.pageInfo.sysEnv');\n\t\tvar language \x3d _strToObjProp('digitalData.page.pageInfo.language');\n\t\tvar nametype \x3d _strToObjProp('digitalData.page.component.form.nameType');\n\t\tvar pagename \x3d _strToObjProp('digitalData.page.pageInfo.pageName');\n    var urid \x3d getParameterByName('urid'); //per test UK passaggio URID\n\t\tvar pagetype \x3d '';\n\t\tvar postalcode \x3d _strToObjProp('digitalData.page.component.dealerSearch.postalCode');\n\t\tvar stepname \x3d _strToObjProp('digitalData.page.component.form.stepName');\n\t\tvar subcategory1 \x3d _strToObjProp('digitalData.page.category.subCategory1');\n    var subcategory2 \x3d _strToObjProp('digitalData.page.category.subCategory2');\n\t\tvar transactionid \x3d _strToObjProp('digitalData.page.component.form.transactionID');\n\t\tvar transactiontype \x3d nametype!\x3d\x3d'' \x26\x26 (_old_digitalData_pagetype\x3d\x3d'end' || stepname\x3d\x3d'thankyou'||stepname\x3d\x3d'thankyou-dealer'|| stepname\x3d\x3d'thankyou-end') ? (_findInString('lead:', nametype) ? 'lead' : (_findInString('permission:', nametype) ? 'permission' : '')) : '';\n\t\tvar vehicleid \x3d _strToObjProp('digitalData.page.pageInfo.vehicleID');\n\t\tvar vehiclemodel \x3d _strToObjProp('digitalData.page.pageInfo.vehicleModel') || _strToObjProp('digitalData.page.pageInfo.vehicleYear') || _strToObjProp('digitalData.page.pageInfo.vehicleTrim');\n\t\tvar calltoaction \x3d _strToObjProp('digitalData.page.component.form.nameType');\n\t\tvar calltoactionPhase \x3d _strToObjProp('digitalData.page.component.form.stepName');\n\t\tvar vehicletrim\x3d _strToObjProp('digitalData.page.pageInfo.vehicleTrim');\n\t\t\n\t\t/** Landing page esterne */\n\t\tif (_findInString('landingpromo', pagename)) {\n\t\t\t\n\t\t\tpagetype \x3d 'landing-page-direct';\n\t\t\tdevice \x3d device\x3d\x3d'' ? _strToObjProp('digitalData.page.attributes.platform.device') : device;\n\t\t\t\n\t\t\tif (\n\t\t\t\t_old_digitalData_pagetype\x3d\x3d'start'\n\t\t\t\t|| stepname\x3d\x3d'form'\n\t\t\t) {\n\t\t\t\tpage_category \x3d 'landingpage';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (\n\t\t\t\t_old_digitalData_pagetype\x3d\x3d'map'\n\t\t\t\t|| stepname\x3d\x3d'dealerselection'\n\t\t\t) {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (\n\t\t\t\t_old_digitalData_pagetype\x3d\x3d'end'\n\t\t\t\t|| stepname\x3d\x3d'thankyou'\n              \t|| stepname\x3d\x3d'thankyou-dealer'\n              \t|| stepname\x3d\x3d'thankyou-end'\n              \n\t\t\t) {\n\t\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\tpage_subcategory \x3d 'end';\t\n\t\t\t}\n\t\t}\n\t\t// popup netmining portale \n\t/*\telse if (\n\t\t\t_findInString('proactive-popin', nametype)\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t}\t\t\t\n\t\t}*/\n\t\t\t\t/** Landing page montreux */\n\t\telse if (_findInString('registration', subcategory2)) {\n\t\t\t\n\t\t\tpagetype \x3d 'landing-page-direct';\n\t\t\tdevice \x3d device\x3d\x3d'' ? _strToObjProp('digitalData.page.attributes.platform.device') : device;\n\t\t\t\n\t\t\tif ( stepname\x3d\x3d'form'){\n\t\t\t\tpage_category \x3d 'registration';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} \n\t\t\telse if (stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_category \x3d 'registration';\n\t\t\t\tpage_subcategory \x3d 'end';\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t/* portale */\n\t\telse if (\n\t\t\t_findInString('contact', pagename)\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t}\t\t\t\n\t\t} \n\t\n\t\telse if (_findInString('shoppingtools:tradein', pagename))\n\t\t\t\n\t{\n\t\t  if (nametype\x3d\x3d'')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'tradeintool';\n\t\t\tpage_subcategory \x3d 'start1';\n\t\t}\n\t\t  if (nametype!\x3d'') {\n\t\t\t  if (stepname\x3d\x3d'form')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'tradeintool';\n\t\t\tpage_subcategory \x3d 'start2';\n\t\t}\n\t\t  if (stepname\x3d\x3d'thankyou')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'tradeintool';\n\t\t\tpage_subcategory \x3d 'end';\n\t\t}}\n\t}\n    else if (_findInString('shoppingtools:used', subcategory2))\t\n\t{\n\t\t  if (pagename\x3d\x3d'jeep:it:shoppingtools:used')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'used';\n\t\t\tpage_subcategory \x3d 'search';\n\t\t}\n\t\t if (pagename\x3d\x3d'jeep:it:shoppingtools:used:search')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'used';\n\t\t\tpage_subcategory \x3d 'result';\n\t\t}\n\t\t if (pagename\x3d\x3d'jeep:it:shoppingtools:used:offer') {\n\t\t\t\tif (stepname\x3d\x3d'form')\n\t\t {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'contactrequest';\n\t\t\tpage_subcategory \x3d 'start';\n\t\t}\n\t\t\t\tif (stepname\x3d\x3d'thankyou')\n\t\t{\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\tpage_category \x3d 'contactrequest';\n\t\t\tpage_subcategory \x3d 'end';\n\t\t}}\n\t\t}\n      \n      else if (\n\t\t\t_findInString('shoppingtools:searchnewinventory', subcategory2)\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t}\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\t\n     \n     // configuratore e cta configuratore\n      else if (\n\t\t\t_findInString('configurator', pagename)\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\t\tif (_strToObjProp('digitalData.page.custom.formInteractionType')\x3d\x3d''\n\t\t\t\t\x26\x26 _strToObjProp('digitalData.page.component.configurator.finalStep')\x3d\x3d'')\n\t\t\t\t{\n\t\t\t\t\tpage_category \x3d 'carconfigurator';\n\t\t\t\t\tpage_subcategory \x3d 'start';\t\n\t\t\t\t\t}\n\t\t\t\telse if(_strToObjProp('digitalData.page.custom.formInteractionType')!\x3d'focus'\n\t\t\t\t\t\t    \x26\x26 nametype!\x3d''){\n\t\t\t\t\t\t\n\t\t\t\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\t\t\t\tpage_subcategory \x3d 'start';}\t\n\t\t\t\t\t\telse if (stepname\x3d\x3d'dealerselection'){\n\t\t\t\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\t\t\t\tpage_subcategory \x3d 'start';} \n\t\t\t\t\t\telse if (stepname\x3d\x3d'thankyou'){\n\t\t\t\tpage_subcategory \x3d 'end';}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if ( _strToObjProp('digitalData.page.component.configurator.finalStep')\x3d\x3d'save' \n\t\t\t\t\t|| _strToObjProp('digitalData.page.component.configurator.finalStep')\x3d\x3d'share'\n\t\t\t\t\t|| _strToObjProp('digitalData.page.component.configurator.finalStep')\x3d\x3d'print'\n\t\t\t\t\t|| _strToObjProp('digitalData.page.component.configurator.finalStep')\x3d\x3d'send')\n\t\t\t\t\n\t\t\t\t{ \tpage_category \x3d 'carconfigurator';\n\t\t\t\t\t  page_subcategory \x3d 'end';\t\n\t\t\t\t\t}\n\n\t\t\t\t\n     // else if (\n\t\t\t/* CAR CONFIGURATOR START */\n\t\t/*\t_findInString('shoppingtools:configurator', pagename)\n\t\t\t\x26\x26 vehiclemodel!\x3d''\n\t\t\t\x26\x26 _strToObjProp('digitalData.page.component.configurator.completePrice')\x3d\x3d''\n\t\t\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d 'carconfigurator';\n\t\t\tpage_subcategory \x3d 'start';\n\t\t} else if (\n\t\t\t/* CAR CONFIGURATOR END */\n\t/*\t\t _strToObjProp('digitalData.page.component.configurator.completePrice')!\x3d''\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d 'carconfigurator';\n\t\t\tpage_subcategory \x3d 'end';\n\t\t\t\n\t\t\t/*\n\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if (stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t}\t\n\t\t\t*/\t\t\n\t\t}\n\t\t\t\n\t\t\n      \n       else if (\n\t\t\t/* DEALER LOCATOR */\n\t\t\t_findInString('shoppingtools:dealerlocator', pagename)\n\t\t) {\n\t\t\tpagetype \x3d 'brand-corporate';\n\t\t\t\n\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\n\t\t\tif (_strToObjProp('digitalData.page.component.dealerSearch.criteria')!\x3d'') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t} else {\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t}\t\t\t\n\t\t} else if (\n\t\t\t_findInString('homepage', pagename))\n\t {\n\t\t\tpagetype \x3d 'brand-corporate';\t\t\t\n\t\t\tpage_category \x3d 'homepage';\n\t\t\t\n\t\t} else if (\n\t\t\t_findInString('showroom', pagename)\n\t\t) {\t\t\t\n\t\t\tpagetype \x3d 'brand-corporate';\t\t\t\n\t\t\tpage_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if(stepname\x3d\x3d'thankyou') {\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t} else {\n\t\t\t\tpage_category \x3d 'modelpage';\n\t\t\t}\n\t\t}\t\n\t\telse if (\n\t\t\t_findInString('registration', pagename)\n\t\t) {\t\t\t\n\t\t\tpagetype \x3d 'brand-corporate';\t\t\t\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'form') {\n\t\t\t\tpage_category \x3d 'registration';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if(stepname\x3d\x3d'thankyou') {\n\t\t\t  page_category \x3d 'registration';\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t}}\n\t\t\t else if (\n\t\t\t_findInString('promotions', pagename) || _findInString('editorial:fleets', pagename)\n\t\t) {\t\t\t\n\t\t\tpagetype \x3d 'brand-corporate';\t\t\t\n\t\t\t\n\t\t\tif (stepname\x3d\x3d'dealerselection') {\n\t\t\t\tpage_category \x3d 'dealerlocator';\n\t\t\t\tpage_subcategory \x3d 'start';\n\t\t\t} else if(stepname\x3d\x3d'thankyou') {\n\t\t\t  page_category \x3d _propertiesMap(ctas_array, nametype);\n\t\t\t\tpage_subcategory \x3d 'end';\n\t\t\t} else {\n\t\t\t\tpage_category \x3d 'landingpage';\n\t\t\t}\n\t\t}\t\n\t\t\t      \n\t\tvar tempUV \x3d {\n\t\t\tversion: UV.version,\n\t\t\tenablePush: window.universal_variable \x26\x26 typeof window.universal_variable.enablePush!\x3d\x3d'undefined' \x26\x26 window.universal_variable.enablePush!\x3d\x3d'' ? !!window.universal_variable.enablePush : true,\n\t\t\tpushedOnce: false,\n\t\t\tgenerator: '',\n\t\t\tuuid: window.universal_variable \x26\x26 window.universal_variable.uuid ? window.universal_variable.uuid : uuid(),\n\t\t\tsid: window.universal_variable \x26\x26 window.universal_variable.sid ? window.universal_variable.sid : sid(),\n      digitaldatamirror: typeof window.digitalData!\x3d\x3d'undefined' ? window.digitalData : null,\n\t\t\tpage: {\n\t\t\t\tcategory: page_category,\n\t\t\t\tdevice: device,\n\t\t\t\tlanguage: language,\n\t\t\t\trandom_number: Math.floor(Math.random() * 10000000000000),\n\t\t\t\tsubcategory: page_subcategory,\n\t\t\t\ttitle: pagename,\n\t\t\t\tcalltoaction: calltoaction,\n\t\t\t\tcalltoactionPhase: calltoactionPhase,\n        urid: urid, //per test UK passaggio urid\n\t\t\t\ttype: pagetype,\n\t\t\t},\n\t\t\tproduct: {\n\t\t\t\tid: vehicleid,\n\t\t\t\tmanufacturer: brand,\n\t\t\t\tmarket: countrycode,\n\t\t\t\tname: vehiclemodel,\n\t\t\t\tvehicletrim: vehicletrim,\n\t\t\t},\n\t\t\ttransaction: {\n\t\t\t\tdelivery: {\n\t\t\t\t  postcode: postalcode\n\t\t\t\t},\n\t\t\t\ttype: transactiontype,\n\t\t\t\torder_id: transactionid,    // in attesa di verifica.\n\t\t\t}\n\t\t};\t\t\n\t\t\n\t\tObject.deepExtend(UV, tempUV, false);\n\t\t\n\t\tif (obj!\x3d\x3dnull \x26\x26 typeof obj!\x3d\x3d'undefined' \x26\x26 typeof obj\x3d\x3d'object') {\n\t\t\tUV.transaction.order_id \x3d obj.transaction \x26\x26  obj.transaction.order_id ? obj.transaction.order_id : UV.transaction.order_id;\n\t\t}\n\t\t\n\t\twindow.universal_variable \x3d UV;  \n\t\t\n\t\tvar tempObj \x3d {};\n\t\tObject.deepExtend(tempObj, window.universal_variable, true);\n\t//\tUV.log('digitalData \x3d\x3e UV: ', tempObj);\n      \n\t\treturn true;\n    };\n    \n\tvar _isset \x3d function (ref) {\n\t\t//return ref.toString ? ref.toString().toLowerCase() !\x3d\x3d \"undefined\" : false;\n\t\treturn typeof ref\x3d\x3d\x3d'undefined' || ref \x3d\x3d\x3d null ? false : (typeof ref.toString\x3d\x3d\x3d'function' ? ref.toString().toLowerCase() !\x3d\x3d \"undefined\" : false);\n\t};\n\t\n/*\tUV.log \x3d function() {\n\t\tif (window.maxuslog \x26\x26 _isset(window.console) \x26\x26 typeof [].forEach\x3d\x3d'function') {\n\t\t\tif (Function.prototype.bind \x26\x26 window.console \x26\x26 typeof console.log \x3d\x3d \"object\"){\n\t\t\t\t[\n\t\t\t\t  \"log\",\"info\",\"warn\",\"error\",\"assert\",\"dir\",\"clear\",\"profile\",\"profileEnd\"\n\t\t\t\t].forEach(function (method) {\n\t\t\t\t\twindow.console[method] \x3d this.bind(window.console[method], window.console);\n\t\t\t\t}, Function.prototype.call);\n\t\t\t}\t\t\n\t\t\twindow.console.log.apply(window.console, arguments);\n\t\t}\n\t}; */\n    \n\tvar _trim \x3d function(str) {\n\t\treturn typeof str \x3d\x3d\x3d 'string' ? str.replace(/^[\\r\\n\\t\\s]+|[\\r\\n\\t\\s]+$/img, '') : str;\n\t};\n    \n    var _push \x3d function(obj) {\n\t\t\n\t\tif (obj!\x3d\x3dnull \x26\x26 typeof obj!\x3d\x3d'undefined' \x26\x26 typeof obj\x3d\x3d'object') {\n\t\t\tvar tempObj \x3d {};\n\t\t\tObject.deepExtend(tempObj, obj, true);\n\t\t//\tUV.log('UV, pushed object: ', tempObj);\n\t\t} else {\n\t//\t\tUV.log('UV, no object pushed');\n\t\t}\n\t\t\n\t\tUV.page.random_number \x3d Math.floor(Math.random() * 10000000000000);\n\t\tif (obj!\x3d\x3dnull \x26\x26 typeof obj!\x3d\x3d'undefined' \x26\x26 typeof obj\x3d\x3d'object') {\n\t\t\tobj.version \x3d UV.version;\n\t\t\tObject.deepExtend(UV, obj, false);\n\t\t}\n\t\t\n\t\twindow.universal_variable \x3d UV; // oppure (un po' pi\u00c3\u0192\u00c2\u00b9 permissiva): Object.deepExtend(window.universal_variable, UV, true);\n\t\t\n\t\tvar tempObj \x3d {};\n\t\tObject.deepExtend(tempObj, window.universal_variable, true);\n//\t\tUV.log('UV after push: ', /*JSON \x26\x26 JSON.stringify ? JSON.stringify(tempObj, null, \"\\t\") : */tempObj);\n    };\n\t\n\tvar _trackError \x3d function(value) {\n//\t\tUV.log('[Warning from Maxus] Universal Variable Error: \"' + value + '\" is not a standard UV property.');\n\t\treturn;\n\t\n\t\tvar img\x3d new Image();\n\t\timg.src \x3d errorEndpoint + encodeURIComponent(value) + '\x26amp;location\x3d' + encodeURIComponent(window.location);\n\t\treturn;\n\t};\n\t\n\tvar _DOMReady \x3d function (win, fn) {\n\t\tvar done \x3d false;\n\t\tvar top \x3d true;\n\t\tvar win \x3d win ? win : window;\n\t\tvar doc \x3d win.document;\n\t\tvar root \x3d doc.documentElement;\n\t\t\n\t\tvar add \x3d doc.addEventListener ? 'addEventListener' : 'attachEvent';\n\t\tvar rem \x3d doc.addEventListener ? 'removeEventListener' : 'detachEvent';\n\t\tvar pre \x3d doc.addEventListener ? '' : 'on';\n\t\t\n\t\tvar init \x3d function(e) {\n\t\t\tif (e.type \x3d\x3d 'readystatechange' \x26\x26 doc.readyState !\x3d 'complete' \x26\x26 doc.readyState !\x3d 'interactive') return;\n\t\t\t(e.type \x3d\x3d 'load' ? win : doc)[rem](pre + e.type, init, false);\n\t\t\tif (!done \x26\x26 (done \x3d true)) fn.call(win, e.type || e);\n\t\t};\n\t\t\n\t\tvar poll \x3d function() {\n\t\t\ttry { root.doScroll('left'); } catch(e) { setTimeout(poll, 50); return; }\n\t\t\tinit('poll');\n\t\t};\n\t\t\n\t\tif (doc.loaded || doc.readyState \x3d\x3d 'complete' || doc.readyState \x3d\x3d 'interactive') fn.call(win, 'lazy');\n\t\telse {\n\t\t\tif (doc.createEventObject \x26\x26 root.doScroll) {\n\t\t\t\ttry { top \x3d !win.frameElement; } catch(e) { }\n\t\t\t\tif (top) poll();\n\t\t\t}\n\t\t\tdoc[add](pre + 'DOMContentLoaded', init, false);\n\t\t\tdoc[add](pre + 'readystatechange', init, false);\n\t\t\twin[add](pre + 'load', init, false);\n\t\t}\n\t};\n\n\tUV.DOMReady \x3d function(fn) {\n\t\tif (typeof fn!\x3d\x3d'function') {\n\t\t\tfn \x3d function () {return true;};\n\t\t}\n\t\t_DOMReady(window, fn);\n\t\treturn this;\n\t};\n\t\n\tUV.addDoubleClickIframe \x3d (function() {\n\t\treturn function (parameters){\n\t\t\t\n          \tif (\n\t\t\t\ttypeof parameters\x3d\x3d\x3d'undefined' ||\n\t\t\t\tparameters\x3d\x3d\x3dnull ||\n\t\t\t\t(typeof parameters\x3d\x3d'object' \x26\x26 !parameters.hasOwnProperty('src')) \n            ) {\n\t\t//\t\tUV.log('UV - Error adding Doubleclick iframe: ', UV);\n\t\t\t\treturn this;\n\t\t\t}\n          \n\t\t\tvar DoubleClickURL \x3d '//__DC_SRC__.fls.doubleclick.net/activityi';\n\t\t\tvar paramSeparator \x3d ';';\n\t\t\t\t\t\t\n\t\t\t// the \"parameters\" argument could be a JSON object or array\n\t\t\t// with mandatory keys: src, type, cat, ord\n\t\t\t// and with custom variables u1, u2, u3, u4, u5...\n\t\t\tvar thisFunction \x3d arguments.callee;\n\t\t\tvar qs \x3d \"\";\n\t\t\tfor(var key in parameters) {\n\t\t\t\tvar value \x3d parameters[key];\n\t\t\t\tqs +\x3d paramSeparator + encodeURIComponent(key) + \"\x3d\" + encodeURIComponent(value) + \"\";\n\t\t\t\t\n\t\t\t\tif (key\x3d\x3d'src') {\n\t\t\t\t\tDoubleClickURL \x3d DoubleClickURL.replace(/^\\/\\/([^\\.]+){1}/ig, '//'+encodeURIComponent(value));\n\t\t\t\t}\n\t\t\t}\n          \n\t\t\tif (qs.length \x3e 0){\n\t\t\t\tqs \x3d qs.substring(0, qs.length-1); //chop off last \"\x26\"\n\t\t\t\tDoubleClickURL \x3d DoubleClickURL + \"\" + qs + \"?\";\n\t\t\t}\n\t\t\t\n\t\t\tif (document.getElementsByTagName('body').length) {\n\t\t\t\tvar body \x3d document.getElementsByTagName('body')[0];\n\t\t\t\tvar doubleclickIFrame \x3d document.createElement('iframe');\n\t\t\t\tdoubleclickIFrame.setAttribute('width', '1');\n\t\t\t\tdoubleclickIFrame.setAttribute('height', '1');\n\t\t\t\tdoubleclickIFrame.setAttribute('frameborder', '0');\n\t\t\t\tdoubleclickIFrame.setAttribute('style', 'position:absolute; top:-99999px; left:-99999px; width:1px; height:1px; border:none;');\n\t\t\t\tdoubleclickIFrame.setAttribute('src', DoubleClickURL);\n\t\t\t\ttry {\n\t\t\t\t\tif (body.childNodes.length || body.firstChild) {\n\t\t\t\t\t\tbody.insertBefore(doubleclickIFrame, (body.childNodes[0] || body.firstChild));\n\t\t\t\t\t//\tUV.log('UV - Doubleclick iframe added: ', doubleclickIFrame);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody.appendChild(doubleclickIFrame);\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn e.message;\n\t\t\t\t}\t\t\t\n\t\t\t} else {\n\t\t\t\t_DOMReady(window, function() {\n\t\t\t\t\tthisFunction(parameters);\n\t\t\t\t\t//window.alert(document.loaded || document.readyState);\n\t\t\t\t});\n\t\t\t\t/*window.onload \x3d function() {\n\t\t\t\t\tthisFunction(parameters);\n\t\t\t\t\t//window.alert(document.loaded || document.readyState);\n\t\t\t\t}*/\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t})();\n\t\n\tUV.addMediamindTag \x3d (function() {\n\t\treturn function (parameters){\n\t\t\t\n          \tif (\n\t\t\t\ttypeof parameters\x3d\x3d\x3d'undefined' ||\n\t\t\t\tparameters\x3d\x3d\x3dnull ||\n\t\t\t\t(typeof parameters\x3d\x3d'object' \x26\x26 !parameters.hasOwnProperty('ActivityID')) \n            ) {\n\t\t\t\t//UV.log('UV - Error adding Mediamind script: ', UV);\n\t\t\t\treturn this;\n\t\t\t}\n          \n\t\t\tvar MediamindURL \x3d '//bs.serving-sys.com/BurstingPipe/ActivityServer.bs?cn\x3das';\n\t\t\tvar paramSeparator \x3d '\x26amp;';\n\t\t\t\t\t\t\n\t\t\t// the \"parameters\" argument could be a JSON object or array\n\t\t\t// with mandatory keys: ActivityID, rnd\n\t\t\t// and with custom variables Param1, Param2, Param3, Param4, Param5, Value, OrderID, ProductID, ProductInfo, Quantity...\n\t\t\tvar thisFunction \x3d arguments.callee;\n\t\t\tvar qs \x3d \"\";\n\t\t\tfor(var key in parameters) {\n\t\t\t\tvar value \x3d parameters[key];\n\t\t\t\tqs +\x3d paramSeparator + encodeURIComponent(key) + \"\x3d\" + encodeURIComponent(value) + \"\";\n\t\t\t\t\n/*\t\t\t\tif (key\x3d\x3d'ActivityID') {\n\t\t\t\t\tMediamindURL \x3d MediamindURL.replace(/^\\/\\/([^\\.]+){1}/ig, '//'+encodeURIComponent(value));\n\t\t\t\t}*/\n\t\t\t}\n          \n\t\t\tif (qs.length \x3e 0){\n\t\t\t\tqs \x3d qs.substring(0, qs.length-1); //chop off last \"\x26\"\n\t\t\t\tMediamindURL \x3d MediamindURL + \"\" + qs + \"?\";\n\t\t\t}\n\t\t\t\n\t\t\tif (document.getElementsByTagName('body').length) {\n\t\t\t\tvar body \x3d document.getElementsByTagName('body')[0];\n\t\t\t\tvar mediamindTag \x3d document.createElement('script');\n\t\t\t\tmediamindTag.setAttribute('type', 'text/javascript');\n\t\t\t\tmediamindTag.setAttribute('src', MediamindURL);\n\t\t\t\ttry {\n\t\t\t\t\tif (body.childNodes.length || body.firstChild) {\n\t\t\t\t\t\tbody.insertBefore(mediamindTag, (body.childNodes[0] || body.firstChild));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody.appendChild(mediamindTag);\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn e.message;\n\t\t\t\t}\t\t\t\n\t\t\t} else {\n\t\t\t\t_DOMReady(window, function() {\n\t\t\t\t\t\tthisFunction(parameters);\n\t\t\t\t\t//window.alert(document.loaded || document.readyState);\n\t\t\t\t});\n\t\t\t\t/*window.onload \x3d function() {\n\t\t\t\t\tthisFunction(parameters);\n\t\t\t\t\t//window.alert(document.loaded || document.readyState);\n\t\t\t\t}*/\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t})();\n\t\n\tUV.clickMonitor \x3d (function() {\n\t\treturn function(object_in) {\n\t\t\tvar object_in \x3d object_in || {};\n\t\t\t\n\t\t\tvar _clickMonitor \x3d function(object_in) {\n\t\t\t\tif (typeof object_in!\x3d'undefined' \x26\x26 typeof object_in.selector!\x3d\x3d'undefined' \x26\x26 typeof object_in.selector\x3d\x3d'string') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar selectedElements \x3d document.querySelectorAll(object_in.selector);\n\t\t\t\t\t\tfor (var i\x3d0, l\x3dselectedElements.length; i\x3cl; i++) {\n\t\t\t\t\t\t\tselectedElements[i].onclick \x3d (function (context, obj_in) {\n\t\t\t\t\t\t\t\tvar originalEventFunction \x3d context.onclick;\n\t\t\t\t\t\t\t\tvar object_in \x3d obj_in;\n\t\t\t\t\t\t\t\tif (typeof object_in\x3d\x3d'object' \x26\x26 typeof object_in.propagateEvent\x3d\x3d'undefined') {\n\t\t\t\t\t\t\t\t\tobject_in.propagateEvent \x3d true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar object_loop_replace \x3d function(obj, needle, replacer) {\n\t\t\t\t\t\t\t\t\tif (typeof obj\x3d\x3d'object') {\n\t\t\t\t\t\t\t\t\t\tfor (var prop in obj) {\n\t\t\t\t\t\t\t\t\t\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t\t\t\t\t\tobj[prop] \x3d object_loop_replace(obj[prop], needle, replacer);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (typeof obj\x3d\x3d'string') {\n\t\t\t\t\t\t\t\t\t\tobj \x3d obj.split(needle).join(replacer);\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn function() {\t\n\t\t\t\t\t\t\t\t\tvar new_obj \x3d {};\n\t\t\t\t\t\t\t\t\tObject.deepExtend(new_obj, object_in, true);\n\t\t\t\t\t\t\t\t\tvar results \x3d true;\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tnew_obj.nextStatus \x3d typeof new_obj.nextStatus!\x3d'undefined' ? new_obj.nextStatus : {};\t\n\t\t\t\t\t\t\t\t\tif (typeof new_obj.getAttributes\x3d\x3d'object') {\n\t\t\t\t\t\t\t\t\t\tfor (var attr_index in new_obj.getAttributes) {\n\t\t\t\t\t\t\t\t\t\t\tget_attr \x3d attr_index.toString();\n\t\t\t\t\t\t\t\t\t\t\tif ((typeof context.hasAttribute!\x3d\x3d'undefined' \x26\x26 context.hasAttribute(get_attr)) || context[get_attr]) {\n\t\t\t\t\t\t\t\t\t\t\t\tnew_obj.nextStatus \x3d typeof new_obj.nextStatus\x3d\x3d'object' ? new_obj.nextStatus : {};\n\t\t\t\t\t\t\t\t\t\t\t\tnew_obj.nextStatus \x3d object_loop_replace(new_obj.nextStatus, new_obj.getAttributes[attr_index], typeof context.getAttribute ? context.getAttribute(get_attr) : context[get_attr]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\twindow.universal_variable.push(new_obj.nextStatus);\n\t\t\t\t\t\t\t\t\tif (typeof new_obj.callback!\x3d'undefined' \x26\x26 typeof new_obj.callback\x3d\x3d'string') {\n\t\t\t\t\t\t\t\t\t\teval(new_obj.callback);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (new_obj.propagateEvent!\x3d'undefined' \x26\x26 !!new_obj.propagateEvent \x26\x26 originalEventFunction!\x3dnull) {\n\t\t\t\t\t\t\t\t\t\tresults \x3d originalEventFunction();\n\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})(selectedElements[i], object_in);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t//\tUV.log(err.message.toString());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\twindow.universal_variable.DOMReady(function() { _clickMonitor(object_in); });\n\t\t};\n\t})();\n\t\n\tUV.reset \x3d function() {\n\t\twindow.universal_variable \x3d null;\n\t\tclearID();\n\t\twindow.universal_variable \x3d this_constructor();\n\t\treturn window.universal_variable;\n\t};\n\t\n\tvar _pushCurrentUV \x3d function(current_universal_variable) {\n\t\twindow.waitForDigitalData \x3d 0;\n\t\t\t\n\t\tif (typeof current_universal_variable!\x3d\x3d'undefined' \x26\x26 current_universal_variable!\x3d\x3dnull \x26\x26 typeof current_universal_variable\x3d\x3d\x3d'object') {\n\t\t\tvar tempObj \x3d {};\n\t\t\tObject.deepExtend(tempObj, current_universal_variable, true);\n\t\t\t//UV.log('UV read by Maxus container tag: ', tempObj);\n\t\t\t\n\t\t\t// on first push JS adds a void \"events\" object as property of current_universal_variable\n\t\t\tif(current_universal_variable.hasOwnProperty('events')) {\n\t\t\t\tdelete current_universal_variable.events;\n\t\t\t}\n\t\t\tUV.push(current_universal_variable);\n\t\t\t\n\t\t\t//UV.log('Universal Variable: ', UV);\n\t\t} else {\n\t\t\tUV.push();\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tUV.scriptOnLoad \x3d function(s, callback, params) {\t\t\n\t\ts.onreadystatechange \x3d function () {\n\t\t\tif (this.readyState\x3d\x3d'loaded' || this.readyState\x3d\x3d'complete') {\n\t\t\t\ttypeof callback\x3d\x3d'function' ? callback.apply(this, params) : null;\n\t\t\t}\n\t\t}\n\t\ts.onload \x3d function() {\n\t\t\ttypeof callback\x3d\x3d'function' ? callback.apply(this, params) : null;\n\t\t}\n\t\ts.onerror \x3d function() {\n\t\t\ttry {\n\t\t\t\tthrow {\n\t\t\t\t\tname: 'ScriptLoadingException',\n\t\t\t\t\tmessage: s.src\n\t\t\t\t};\n\t\t\t} catch (e) {\n\t\t\t\t//UV.log(e.message);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\t\t\n\tif (typeof window.digitalData!\x3d\x3d'undefined' \x26\x26 window.digitalData!\x3d\x3dnull){\n\t\t_DOMReady(window, function() {\n\t\t\tUV.push();\n\t\t});\n\t} else {\n\t\t/** check for Adobe DTM */\n\t\tvar adobeDTM \x3d document.querySelector('script[src*\x3d\"assets.adobedtm.com\"]');\n\t\t\t\n\t\tif (adobeDTM) {\n\t\t\t//UV.log('Maxus has found DTM and is now waiting for digitalData');\n\t\t\t\t\t\t\n\t\t\twindow.waitForDigitalData \x3d 0;\n\t\t\t\n\t\t\t(function(UV) {\n\t\t\t\tvar _self \x3d arguments.callee;\n\t\t\t\tif (!window.digitalData \x26\x26 window.waitForDigitalData\x3c10) {\n\t\t\t\t\twindow.waitForDigitalData++;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t_self(UV);\n\t\t\t\t\t}, 500);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//UV.log('CurrentUV', current_universal_variable);\n\t\t\t\t_pushCurrentUV(current_universal_variable);\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t})(UV);\n\t\t\t\t\t\t\t\n\t\t\t/*\n\t\t\tUV.scriptOnLoad(adobeDTM, function() {\n\t\t\t\tUV.push();\n\t\t\t});\n\t\t\t*/\n\t\t} else if (typeof current_universal_variable!\x3d\x3d'undefined' \x26\x26 current_universal_variable!\x3d\x3dnull \x26\x26 typeof current_universal_variable\x3d\x3d\x3d'object') {\n\t\t\t_pushCurrentUV(current_universal_variable);\n\t\t}\n\t}\n\t\n\treturn UV;\n})(window.hasOwnProperty('universal_variable') ? window.universal_variable : null);\n\x3c/script\x3e";
h.addClientFiltersList([]);h.addClientVariablesMap({});h.addParameters([]);h.genericDependencies=[];h.addClientDependenciesList([]);h.pre=function(){};h.script=function(){};h.post=function(){}})();
(function(){var F=qubit.opentag.CustomTag;var h=new F({"async":true,"usesDocumentWrite":false,"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"name":"Sizmek Versatag_","active":true,"disabled":false,"locked":false,"locationObject":"HEAD","url":"","timeout":5E3});var E="alfaromeoit.tags.sizmekversatag_.Tag";qubit.Define.clientNamespace(E,h);h.htmlContent='\x3c!-- Versatag - All URL --\x3e\n\x3cscript\x3e\n\n//console.log("digitaldatamirror", universal_variable);\n  var CustomUV \x3d UVMappingRules();\n  \n  if (CustomUV) {\n\nvar versaTag \x3d {};\nversaTag.id \x3d "1741";\nversaTag.sync \x3d 0;\nversaTag.dispType \x3d "js";\n  versaTag.ptcl \x3d window.location.protocol\x3d\x3d\'https:\' ? "HTTPS" : "HTTP";\nversaTag.bsUrl \x3d "bs.serving-sys.com/BurstingPipe";\n//VersaTag activity parameters include all conversion parameters including custom parameters and Predefined parameters. Syntax: "ParamName1":"ParamValue1", "ParamName2":"ParamValue2". ParamValue can be empty.\nversaTag.activityParams \x3d {\n  OrderID: CustomUV.transaction.order_id,\n  Session: CustomUV.sid,\n  Value: "",\n  Quantity: "1",\n  tp_pageType: CustomUV.page.type, // this is the web site type [brand-corporate | landing-page-direct]\n  tp_conversion_type: CustomUV.page.category,\n  tp_conversionPhase: encodeURI(CustomUV.page.subcategory.replace(/[\x26\\?\\\x3d\\#]+/g,\'_AND_\')),\n  tp_device: CustomUV.page.device,\n  tp_model_name: CustomUV.product.name,\n  tp_id_model_name: CustomUV.product.id,\n  tp_model_category: CustomUV.product.category,\n  tp_manufacturer: CustomUV.product.manufacturer,\n  tp_market: CustomUV.product.market,\n  tp_title: CustomUV.page.title,\n  tp_referral: CustomUV.page.referral,\n  tp_urlValue: encodeURI(CustomUV.page.url.replace(/^[a-z0-9]+\\:[\\/]{2}/img, \'\').replace(/[\x26\\?\\\x3d\\#]+/g,\'_AND_\')),\n  tp_language: CustomUV.page.language,\n  tp_postcode: CustomUV.transaction.postcode,\n  tp_orderID: CustomUV.transaction.order_id,\n  tp_urid:CustomUV.page.urid,\n  tp_lead_permission: CustomUV.transaction.type,\n  tp_calltoaction: CustomUV.page.calltoaction,\n  tp_calltoactionPhase: CustomUV.page.calltoactionPhase,\n  tp_vehicletrim: CustomUV.product.vehicletrim,\n // tp_prova1: universal_variable.digitaldatamirror.page.category.subCategory1,\n\n\n };\n//Static retargeting tags parameters. Syntax: "TagID1":"ParamValue1", "TagID2":"ParamValue2". ParamValue can be empty.\nversaTag.retargetParams \x3d {};\n//Dynamic retargeting tags parameters. Syntax: "TagID1":"ParamValue1", "TagID2":"ParamValue2". ParamValue can be empty.\nversaTag.dynamicRetargetParams \x3d {};\n//Third party tags conditional parameters. Syntax: "TagID1":"ParamValue1", "TagID2":"ParamValue2". ParamValue can be empty.\n  versaTag.conditionalParams \x3d {\n    "OrderID": CustomUV.transaction.order_id,\n\t"tp_pageType": CustomUV.page.type, // this is the web site type [brand-corporate | landing-page-direct]\n    "tp_conversion_type": CustomUV.page.category,\n    "tp_conversionPhase": encodeURI(CustomUV.page.subcategory.replace(/[\x26\\?\\\x3d\\#]+/g,\'_AND_\')),\n    "tp_device": CustomUV.page.device,\n    "tp_model_name": CustomUV.product.name,\n    "tp_id_model_name": CustomUV.product.id,\n    "tp_model_category": CustomUV.product.category,\n    "tp_manufacturer": CustomUV.product.manufacturer,\n    "tp_market": CustomUV.product.market,\n    "tp_title": CustomUV.page.title,\n\t"tp_referral": CustomUV.page.referral,\n  "tp_urlValue": encodeURI(CustomUV.page.url.replace(/^[a-z0-9]+\\:[\\/]{2}/img, \'\').replace(/[\x26\\?\\\x3d\\#]+/g,\'_AND_\')),\n    "tp_language": CustomUV.page.language,\n    "tp_postcode": CustomUV.transaction.postcode,\n    "tp_orderID": CustomUV.transaction.order_id,\n     "tp_urid":CustomUV.page.urid,\n\t"tp_lead_permission": CustomUV.transaction.type,\n\t\t"tp_calltoaction": CustomUV.page.calltoaction,\n  "tp_calltoactionPhase": CustomUV.page.calltoactionPhase,\n  "tp_vehicletrim": CustomUV.product.vehicletrim,\n  //"tp_prova1": universal_variable.digitaldatamirror.page.category.subCategory1,\n  };\n  (function() {\n    var fs \x3d document.getElementsByTagName(\'script\')[0];\n    var s \x3d document.createElement(\'script\');\n    s.id \x3d "ebOneTagUrlId";\n    s.src \x3d (window.location.protocol\x3d\x3d\'https:\' ? \'https://secure-\' : \'http://\') + "ds.serving-sys.com/SemiCachedScripts/ebOneTag.js";\n    fs.parentNode.insertBefore(s, fs);\n  })();\n    \n  }\n\x3c/script\x3e';
h.addClientFiltersList(["alfaromeoit.filters.UVChangeListenerFiredAtEveryPush_Aprile2016"]);h.addClientVariablesMap({});h.addParameters([]);h.genericDependencies=[];h.addClientDependenciesList(["alfaromeoit.tags.d0universalvariabledefinition.Tag","alfaromeoit.tags.uvmapping.Tag"]);h.pre=function(){};h.script=function(){};h.post=function(){}})();
(function(){var F=qubit.opentag.CustomTag;var h=new F({"name":"digitalData TestTag"});var E="alfaromeoit.tags.digitaldatatesttag.Tag";qubit.Define.clientNamespace(E,h);h.htmlContent="\x3cscript\x3e\n  if (digitalData.page.component.configurator.stepType \x3d\x3d 'start')\n  { console.log('ALERT! ' + digitalData.page.component.configurator.stepType);\n  }\n  if (digitalData.page.component.configurator.stepType \x3d\x3d 'end')\n  { console.log('ALERT! ' + digitalData.page.component.configurator.stepType);\n  }\n\x3c/script\x3e";
h.addClientFiltersList(["alfaromeoit.filters.UVChangeListenerFiredAtEveryPush"]);h.addClientVariablesMap({});h.addParameters([]);h.genericDependencies=[];h.addClientDependenciesList([]);h.pre=function(){};h.script=function(){};h.post=function(){}})();(function(){try{qubit.opentag.Main.run()}catch(F){try{console.error("Errors during opentag main runtime.",F)}catch(h){}}})();